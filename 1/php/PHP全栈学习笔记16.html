<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修PHP全栈学习笔记16' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>PHP全栈学习笔记16</center></div><div class='banquan'>原文出处:本文由博客园博主达达前端小酒馆提供。<br/>
原文连接:https://www.cnblogs.com/dashucoding/p/10788615.html</div><br>
    <p><img src="./images/PHP全栈学习笔记160.jpg" alt="image.png" /></p>
<pre><code><code>&lt;?php
$fileName = &quot;php大师.test.php&quot;;
//补充程序，显示文件名（不包括扩展名）
$start = strrpos($fileName, &quot;.&quot;);
$newStr = substr($fileName,0, $start);
var_dump ( $newStr );
?&gt;</code></code></pre>
<pre><code><code>&lt;?php
for($i=100;$i&lt;1000;$i++){
    if(($i*$i)%1000==$i)
    {
        echo $i;
        echo &quot;&lt;br/&gt;&quot;;
    }
}
?&gt; </code></code></pre>
<pre><code><code>&lt;?php
$x = &quot;hello&quot;;
switch ($x) {
    case 1 :
        echo &quot;Number 1&quot;;
        break;
    case 2 :
        echo &quot;Number 2&quot;;
        break;
    case &quot;hello&quot; :
        echo &quot;hello&quot;;
        break;
    default :
        echo &quot;No number between 1 and 3&quot;;
}
?&gt; </code></code></pre>
<pre><code><code>&lt;?php
$students = array(array(&quot;name&quot;=&gt;&quot;张三&quot;,&quot;age&quot;=&gt;25,&quot;height&quot;=&gt;180),array(&quot;name&quot;=&gt;&quot;李四&quot;,&quot;age&quot;=&gt;22,&quot;height&quot;=&gt;170));
echo $students[0][&quot;name&quot;];
echo &quot;&lt;br/&gt;&quot;;
echo $students[1][&quot;name&quot;];
?&gt; </code></code></pre>
<pre><code><code>&lt;?php
// 显示右边n个字符
$n = 5;
$oldStr = &quot;dsfasfasf&quot;;
$rightStr = subStr ( $oldStr, strlen($oldStr) - $n );
var_dump ( $rightStr );
?&gt;</code></code></pre>
<pre><code><code>&lt;html&gt; &lt;body&gt;
&lt;form action=&quot;welcome.php&quot; method=&quot;post&quot;&gt;
 　Name: &lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;
 　Age: &lt;input type=&quot;text&quot; name=&quot;age&quot; /&gt;
　&lt;input type=&quot;submit&quot; /&gt; 
&lt;/form&gt; 
&lt;/body&gt; &lt;/html&gt; </code></code></pre>
<pre><code><code>好好学习,天天向上
&lt;br/&gt;
&lt;?php
echo &quot;hello world&quot;;
define(&quot;ABC&quot;,1000);
var_dump(defined(&quot;ABC&quot;));


echo &quot;&lt;br/&gt;&quot;;
echo constant(&quot;ABC&quot;);

echo PHP_OS;
echo &quot;&lt;br/&gt;&quot;;
echo PHP_VERSION;
echo &quot;&lt;br/&gt;&quot;;
echo __FILE__;
define(&#39;NAME&#39;,&#39;php&#39;);
define(&#39;NAME&#39;,&#39;linux&#39;);
echo NAME;
?&gt;
&lt;img src=&quot;/test/a.jpg&quot;&gt;&lt;/img&gt;</code></code></pre>
<p>修改端口号</p>
<p><img src="./images/PHP全栈学习笔记161.jpg" alt="image.png" /></p>
<p>通过网络命令netstat –aon 找到进程号</p>
<p><img src="./images/PHP全栈学习笔记162.jpg" alt="image.png" /></p>
<p>php学习</p>
<p><img src="./images/PHP全栈学习笔记163.jpg" alt="image.png" /></p>
<p>常量一般是大写字母构成，常量只能定义一次</p>
<pre><code><code>bool define ( string name, mixed value [, bool case_insensitive] )
bool defined ( string name )

&lt;?php
echo &quot;中文测试&lt;br/&gt;&quot;;
print &quot;hello world!&quot;;
echo &quot;&lt;br/&gt;&quot;;
echo &quot;&lt;img src=&#39;/test/a.jpg&#39;&gt;&lt;/img&gt;&quot;;
define(&quot;PI&quot;,3.14);
var_dump(defined(&quot;Pi&quot;));
echo PHP_OS;
echo &quot;&lt;br/&gt;&quot;;
echo PHP_VERSION;
echo &quot;&lt;br/&gt;&quot;;
echo __FILE__;
?&gt;</code></code></pre>
<p>常量、变量的命名规则：<br />
以字母、下划线开头，后接字母、数字、下划线</p>
<p>以$打头命名变量，变量要先赋值后使用<br />
同一个变量，即可以存储数字也可以存储字符串，也就是可以存储任意类型的数据<br />
变量不用指定数据类型，但必须赋值后才能使用</p>
<p>求字符串的长度：int strlen ( string 字符名 )<br />
查找第一次出现的子串位置：int strpos<br />
查找最后一次出现的子串位置：int strrpos</p>
<p>求字符串右边n个字符构成的子串<br />
substr(原串,-$n) 或者：substr(原串,strlen(原串)-$n)</p>
<p>显示去掉扩展名的文件名</p>
<pre><code><code>$dotpos = strpos($fileName,&quot;.&quot;);
echo substr($fileName,0, $dotpos);</code></code></pre>
<pre><code><code>$y = $x++ 相当于｛$y=$x; $x=$x+1;｝
$y = $x-- 相当于｛$y=$x; $x=$x-1;｝
$y = ++$x 相当于｛$x=$x+1; $y=$x;｝
$y = $x-- 相当于｛$x=$x-1; $y=$x;｝</code></code></pre>
<pre><code><code>对于表达式：A &amp;&amp; B，如果A为假，则不再计算表示式B的值
对于表达式：A || B，如果A为真，则不再计算表示式B的值</code></code></pre>
<p>date函数用于将日期格式化为指定格式</p>
<pre><code><code>构造数组：$names = array(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;); 
访问数组元素：$names[0]、 $names[1]、 $names[2].</code></code></pre>
<p>函数explode,用于将字符串分割成多个子串构成的数组</p>
<p>关联数组<br />
方法：　“键”＝&gt;值</p>
<p>数据类型<br />
Boolean型<br />
integer型<br />
浮点型<br />
字符串型</p>
<p>伪类型<br />
mixed、number、void、callback</p>
<pre><code><code>&lt;?php
// 求1!+2!....+10!

// 声明一个控制变量，初始化
$i = 1;
// 声明一个存储和的变量
$sum = 0;
// 声明一个变量存储n!,初始化化为1;
$rank = 1;
// 计算$i的阶乘，计算完马上累加科
while ( $i &lt;= 10 ) {
    // 计算$i！= ($i-1)!*$i
    $rank *= $i;
    // 累加
    $sum += $rank;
    // 改变循环变量值
    $i ++;
}
echo $sum . &quot;&lt;br/&gt;&quot;;

// 求1!+2!....+10!
$x = 1;
$sum2 = 0;
while ( $x &lt;= 10 ) {
    // 计算$x!
    $rank2 = 1;
    $y = 1;
    while ( $y &lt;= $x ) {
        $rank2 *= $y;
        $y ++;
    }
    // 累加
    $sum2 += $rank2;
    // 改变循环变量值
    $x ++;
}
echo $sum2 . &quot;&lt;br/&gt;&quot;;


// 求1.....100之间素数
// 8 = 2*4 7是素数，因为7/2 7/3 7/4....7/6，7不能被整除
for($i = 2; $i &lt;= 100; $i ++) {
    // 假设是素数
    $isPrime = true;
    //除数不用到$i-1,到sqrt($i)
    for($j = 2; $j &lt;= sqrt($i); $j ++) {
        if ($i % $j == 0) {
            $isPrime = false;
            break;
        }
    }
    //验证假设有没有被修改
    if ($isPrime == true) {
        echo $i . &quot; &quot;;
    }
}

$arr=array(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);
//依次取出数组每一个元素放到$aa
foreach ($arr as $aa){
    echo $aa. &quot; &quot;;
}


echo &quot;&lt;br/&gt;&quot;;
// 求1!+2!....+10!
function Rank($n){
    $rank = 1;
    for($i=1;$i&lt;=$n;$i++){
        $rank *= $i;
    }
    return $rank;
}
$sum = 0;
for($i=1;$i&lt;=10;$i++){
    $sum +=  Rank($i);
}
echo $sum;
?&gt;</code></code></pre>
<p><img src="./images/PHP全栈学习笔记164.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记165.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记166.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记167.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记168.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记169.jpg" alt="image.png" /></p>
<p>检入</p>
<p><img src="./images/PHP全栈学习笔记1610.jpg" alt="image.png" /></p>
<p>自定义函数模板</p>
<p><img src="./images/PHP全栈学习笔记1611.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1612.jpg" alt="image.png" /></p>
<p>开发环境：wamp3.06 + Zend studio 12<br />
调试配置</p>
<p>打开php配置文件php.ini</p>
<p><img src="./images/PHP全栈学习笔记1613.jpg" alt="image.png" /></p>
<p>去掉xdebug前的所有注释符号‘;’，也就是说使用wamp自带的调试器</p>
<p><img src="./images/PHP全栈学习笔记1614.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1615.jpg" alt="image.png" /></p>
<p>允许访问服务器</p>
<p><img src="./images/PHP全栈学习笔记1616.jpg" alt="image.png" /></p>
<p>修改httpd.conf，允许访问服务器</p>
<p><img src="./images/PHP全栈学习笔记1617.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1618.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1619.jpg" alt="image.png" /></p>
<p>zend Studio 中设置</p>
<p><img src="./images/PHP全栈学习笔记1620.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1621.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1622.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1623.jpg" alt="image.png" /></p>
<p>Servers<br />
配置local Apache HTTP Server</p>
<p><img src="./images/PHP全栈学习笔记1624.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1625.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1626.jpg" alt="image.png" /></p>
<p>配置exe文件<br />
<img src="./images/PHP全栈学习笔记1627.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1628.jpg" alt="image.png" /></p>
<p>配置debug</p>
<p><img src="./images/PHP全栈学习笔记1629.jpg" alt="image.png" /></p>
<p>修改Document Root为</p>
<p><img src="./images/PHP全栈学习笔记1630.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1631.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1632.jpg" alt="image.png" /></p>
<p>配置默认字符集</p>
<p><img src="./images/PHP全栈学习笔记1633.jpg" alt="image.png" /></p>
<p>配置默认字体大小</p>
<p><img src="./images/PHP全栈学习笔记1634.jpg" alt="image.png" /></p>
<p><img src="./images/PHP全栈学习笔记1635.jpg" alt="image.png" /></p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
&lt;title&gt;无标题文档&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
// if((($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/gif&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] ==
// &quot;image/jpeg&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/pjpeg&quot;)) &amp;&amp;
// ($_FILES[&quot;file&quot;][&quot;size&quot;] &lt; 20000)) {
// if ($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0) {
// echo &quot;Return Code: &quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br /&gt;&quot;;
// }
// else {
if (file_exists ( &quot;upload/&quot; . $_FILES [&quot;file&quot;] [&quot;name&quot;] )) {
    echo $_FILES [&quot;file&quot;] [&quot;name&quot;] . &quot; already exists. &quot;;
} else {
    $newname = iconv ( &quot;utf-8&quot;, &quot;gb2312&quot;, $_FILES [&quot;file&quot;] [&quot;name&quot;] );
    move_uploaded_file ( $_FILES [&quot;file&quot;] [&quot;tmp_name&quot;], &quot;upload/&quot; . $newname );
    // move_uploaded_file($_FILES[&quot;file&quot;][&quot;tmp_name&quot;], &quot;upload/&quot;
    // .$_FILES[&quot;file&quot;][&quot;name&quot;]);
    echo &quot;Stored in: &quot; . &quot;upload/&quot; . $_FILES [&quot;file&quot;] [&quot;name&quot;];
}
//  }
//  } else { echo &quot;Invalid file&quot;; } 
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<pre><code><code>&lt;html&gt;
&lt;body&gt;
&lt;?php
$week = array(&quot;星期日&quot;,&quot;星期一&quot;,&quot;星期二&quot;,&quot;星期三&quot;,&quot;星期四&quot;,&quot;星期五&quot;,&quot;星期六&quot;);
$day = date(&quot;w&quot;);
$mydate = date(&quot;你好！　现在是Y年n月j日H点i分,$week[$day]&quot;);
echo $mydate;
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<pre><code><code>&lt;?php  
    session_start(); 
    if(isset($_SESSION[&#39;user&#39;])){
    header(&quot;Location:main.php&quot;);//自动跳转到main.php   
    }else{
        //获取用户输入   
        $username  =  $_POST [ &#39;username&#39; ];  
        $passcode  =  $_POST [ &#39;passcode&#39; ];  
        $cookie    =  $_POST [ &#39;cookie&#39; ];  
        //判断用户是否存在，密码是否正确   
        if ($username ==&quot;hhh&quot; &amp;&amp; $passcode == &quot;12345&quot;)  
        {
            $_SESSION[&#39;user&#39;]=$username;
            header(&quot;Location:main.php&quot; );//自动跳转到main.php   
        }
        else{
            echo &quot;用户名或密码错误&quot;;
        }
    } 
?&gt;</code></code></pre>
<pre><code><code>&lt;?php header(&#39;Content-type:text/html;charset=utf-8&#39;); ?&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv= &quot;Content-Type&quot; content=&quot; text/html; charset=UTF-8&quot;&gt; 
&lt;/head&gt;
&lt;body&gt;
&lt;?php
if (isset ( $_COOKIE [&quot;username&quot;] )) {
    header ( &quot;location: main1.php&quot; );
} else {
    $username = $_POST [&#39;username&#39;];
    $passcode = $_POST [&#39;passcode&#39;];
    $cookie = $_POST [&#39;cookie&#39;];
    if ($username == &quot;hhh&quot; &amp;&amp; $passcode == &quot;12345&quot;) {
        switch ($cookie)    
        {
            case 0 :
                setcookie ( &quot;username&quot;, $username );
                break;
            case 1 :
                setcookie ( &quot;username&quot;, $username, time () + 24 * 60 * 60 );
                break;
            case 2 : 
                setcookie ( &quot;username&quot;, $username, time () + 30 * 24 * 60 * 60 );
                break;
            case 3 : 
                setcookie ( &quot;username&quot;, $username, time () + 365 * 24 * 60 * 60 );
                break;
        }
        header ( &quot;location: main.php&quot; );
    } else {
        echo &quot;&quot;;
    }
}
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>发送邮箱</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
&lt;title&gt;无标题文档&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;html&gt;
&lt;body&gt;
&lt;?php
if (isset($_REQUEST[&#39;emailto&#39;]))
{
    $emailto = $_REQUEST[&#39;emailto&#39;]; 
    $subject = $_REQUEST[&#39;subject&#39;];
    $message = $_REQUEST[&#39;message&#39;];
    if(mail($emailto,$subject,$message,&quot;From:23232323@hzj.com&quot;)){
        echo &quot;谢谢使用本程序！&quot;;
    }else{
        echo &quot;未能发送成功！&quot;;
    } 
}else{
    echo &quot;&lt;form method=&#39;post&#39; action=&#39;sendemail.php&#39;&gt;EmailTo:&lt;input name=&#39;emailto&#39; type=&#39;text&#39; /&gt;&lt;br /&gt;Subject: &lt;input name=&#39;subject&#39; type=&#39;text&#39; /&gt;&lt;br /&gt;Message:&lt;br /&gt;&lt;textarea name=&#39;message&#39; rows=&#39;15&#39; cols=&#39;40&#39;&gt;&lt;/textarea&gt;&lt;br /&gt;&lt;input type=&#39;submit&#39; /&gt;&lt;/form&gt;&quot;;
}
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>PHP Date() 函数可把时间戳格式化为可读性更好的日期和时间</p>
<p>语法</p>
<pre><code><code>date(format,timestamp)</code></code></pre>
<pre><code><code>d - 月中的天 (01-31) 
m - 当前月，以数字计 (01-12) 
Y - 当前的年（四位数） </code></code></pre>
<pre><code><code>&lt;?php 
  echo date(&quot;Y/m/d&quot;); 
  echo &quot;&lt;br /&gt;&quot;; 
  echo date(&quot;Y.m.d&quot;); 
  echo &quot;&lt;br /&gt;&quot;; 
  echo date(&quot;Y-m-d&quot;); 
?&gt;</code></code></pre>
<p>PHP 引用文件<br />
include() 或 require()<br />
它们处理错误的方式不同<br />
include() 函数会生成一个警告<br />
require() 函数会生成一个致命错误</p>
<p>PHP 文件处理</p>
<pre><code><code>fopen ( string $filename , string $mode )</code></code></pre>
<p>关闭文件</p>
<pre><code><code>fclose() 函数用于关闭打开的文件</code></code></pre>
<p>逐行读取文件</p>
<pre><code><code>fgets() 函数用于从文件中逐行读取文件</code></code></pre>
<p>PHP 文件上传</p>
<pre><code><code>&lt;html&gt; &lt;body&gt; 
  &lt;form action=&quot;upload_file.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
  &lt;label for=&quot;file&quot;&gt;Filename:&lt;/label&gt; 
  &lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;file&quot; /&gt; &lt;br /&gt;
  &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Submit&quot; /&gt; 
  &lt;/form&gt; 
&lt;/body&gt; &lt;/html&gt; </code></code></pre>
<form>
<p>标签的 enctype 属性规定了在提交表单时要使用哪种内容类型。在表单需要二进制数据时，比如文件内容，请使用 “multipart/form-data”。</p>
<p><input> 标签的 type=“file” 属性规定了应该把输入作为文件来处理。</p>
<p>PHP 的全局数组 $_FILES，存放了上传到服务器的文件的所有信息</p>
<pre><code><code>$_FILES[&quot;file&quot;][&quot;name&quot;] - 被上传文件的名称 
$_FILES[&quot;file&quot;][&quot;type&quot;] - 被上传文件的类型 
$_FILES[&quot;file&quot;][&quot;size&quot;] - 被上传文件的大小
$_FILES[&quot;file&quot;][&quot;tmp_name&quot;] - 存储在服务器的文件的临时副本的名称 
$_FILES[&quot;file&quot;][&quot;error&quot;] - 由文件上传导致的错误代码</code></code></pre>
<p>“upload_file.php”文件</p>
<pre><code><code>&lt;?php if ($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0) { 
　echo &quot;Error: &quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br /&gt;&quot;; 
} else { 
　echo &quot;Upload: &quot; . $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;&lt;br /&gt;&quot;; 
　echo &quot;Type: &quot; . $_FILES[&quot;file&quot;][&quot;type&quot;] . &quot;&lt;br /&gt;&quot;; 
　echo &quot;Size: &quot; . ($_FILES[&quot;file&quot;][&quot;size&quot;] / 1024) . &quot; Kb&lt;br /&gt;&quot;; 
　echo &quot;Stored in: &quot; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;]; 
} ?&gt; </code></code></pre>
<p>保存被上传的文件</p>
<pre><code><code>&lt;?php
 if ((($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/gif&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/jpeg&quot;) || ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/pjpeg&quot;)) &amp;&amp; ($_FILES[&quot;file&quot;][&quot;size&quot;] &lt; 20000)) { 
    if ($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0) { echo &quot;Return Code: &quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br /&gt;&quot;; }
else { 
   if (file_exists(&quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;]))
   { echo $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot; already exists. &quot;; }
  else { move_uploaded_file($_FILES[&quot;file&quot;][&quot;tmp_name&quot;], &quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;]); 
   echo &quot;Stored in: &quot; . &quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;]; 
   }
}
} else { echo &quot;Invalid file&quot;; } 
?&gt; </code></code></pre>
<p>编码方案</p>
<pre><code><code>&lt;?php header(‘Content-type: text/html; charset=gbk’);?&gt;//放在php文档的头部</code></code></pre>
<pre><code><code>&lt;meta http-equiv= &quot;Content-Type&quot; content=&quot; text/html; charset=UTF-8&quot;&gt; </code></code></pre>
<p>编码的转换</p>
<pre><code><code>string iconv ( string $in_charset , string $out_charset , string $str )</code></code></pre>
<p>什么是 Cookie？<br />
Cookies-在客户端保存信息</p>
<p>cookie 常用于识别用户。cookie 是服务器留在用户计算机中的小文件。每当相同的计算机通过浏览器请求页面时，它同时会发送 cookie。通过 PHP，您能够创建并取回 cookie 的值。</p>
<p>如何创建 cookie？<br />
setcookie() 函数用于设置 cookie。</p>
<p>语法</p>
<pre><code><code>setcookie(name, value, expire, path, domain); </code></code></pre>
<p>如何删除 cookie？</p>
<pre><code><code>&lt;?php       // set the expiration date to one hour ago setcookie(&quot;user&quot;, &quot;&quot;, time()-3600);
 ?&gt; </code></code></pre>
<p>Session-在服务器端保存用户信息</p>
<p>PHP session 变量用于存储有关用户会话的信息，或更改用户会话的设置。</p>
<p>Session 的工作机制是：为每个访问者创建一个唯一的 id (UID)，并基于这个 UID 来存储变量。UID 存储在 cookie 中，亦或通过 URL 进行传导。</p>
<p>Session 生命周期</p>
<p>开始 session_start() 函数必须位于 <html> 标签之前</p>
<p>存储 Session 变量<br />
使用 PHP $_SESSION 变量</p>
<pre><code><code>&lt;?php session_start(); $_SESSION[&#39;views&#39;]=1; ?&gt; 
&lt;?php echo &quot;Pageviews=&quot;. $_SESSION[&#39;views&#39;]; ?&gt;</code></code></pre>
<p>isset(变量):　判定一个变量是否已经设置。<br />
unset() : 函数用于释放指定的 session 变量<br />
session_destroy() 函数彻底终结 session</p>
<p>PHP mail() 函数<br />
PHP mail() 函数用于从脚本中发送电子邮件</p>
<p>最简单的方式是发送一封文本 email</p>
<pre><code><code>&lt;?php
　　$to = &quot;someone@example.com&quot;; 
　　$subject = &quot;Test mail&quot;; 
　　$message = &quot;Hello! This is a simple email message.&quot;;
　　 $from = &quot;someonelse@example.com&quot;; 
　　$headers = &quot;From: $from&quot;;
　　mail($to,$subject,$message,$headers);
　　 echo &quot;Mail Sent.&quot;; 
?&gt; </code></code></pre>
<p>mailform.php</p>
<pre><code><code>&lt;?php 
if (isset($_REQUEST[&#39;email&#39;]))  { 
　　 $email = $_REQUEST[&#39;email&#39;] ; 
　　$subject = $_REQUEST[&#39;subject&#39;] ;
　　$message = $_REQUEST[&#39;message&#39;] ; 
　　mail( &quot;someone@example.com&quot;, &quot;Subject: $subject&quot;, $message, &quot;From: $email&quot; ); 
　　echo &quot;Thank you for using our mail form&quot;; }
else  { 
　　echo &quot;&lt;form method=&#39;post&#39; action=&#39;mailform.php&#39;&gt; 
　　Email: &lt;input name=&#39;email&#39; type=&#39;text&#39; /&gt;&lt;br /&gt;
　　Subject: &lt;input name=&#39;subject&#39; type=&#39;text&#39; /&gt;&lt;br /&gt; 
　　Message:&lt;br /&gt; &lt;textarea name=&#39;message&#39; rows=&#39;15&#39; cols=&#39;40&#39;&gt; &lt;/textarea&gt;&lt;br /&gt; 
　　&lt;input type=&#39;submit&#39; /&gt; &lt;/form&gt;&quot;; 
} ?&gt;</code></code></pre>
<p>PHP 异常处理</p>
<p>主动抛出异常：<br />
throw 异常对象;</p>
<p>捕获异常</p>
<pre><code><code> try { 
　　这是放可能产生异常的语句。
 }  catch(Exception $e)
 {
    　异常的处理语句；   
}</code></code></pre>
<pre><code><code>&lt;?php
foreach($_COOKIE as $key=&gt;$value){
    setCookie($key,&quot;&quot;,time()-60);
}
echo &quot;删除所有cookie!&quot;;</code></code></pre>
<p>php高级教程完结！</p>
<h2 id="结言">结言</h2>
<p>好了，欢迎在留言区留言，与大家分享你的经验和心得。</p>
<p>感谢你学习今天的内容，如果你觉得这篇文章对你有帮助的话，也欢迎把它分享给更多的朋友，感谢。</p>
<p>感谢！承蒙关照！您真诚的赞赏是我前进的最大动力！</p>
<p><img src="//upload-images.jianshu.io/upload_images/11158618-da750878d19e7fa1?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image" /></p>
<p><img src="//upload-images.jianshu.io/upload_images/11158618-826395d4148483a1?imageMogr2/auto-orient/strip" alt="image" /></p>


</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>