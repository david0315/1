<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修php 7.1.32 +Apache 2.4  配置 (x64)' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>php 7.1.32 +Apache 2.4  配置 (x64)</center></div><div class='banquan'>原文出处:本文由博客园博主雨vs夜提供。<br/>
原文连接:https://www.cnblogs.com/yunsun/p/11576024.html</div><br>
    <p>最近phpstudy 后门事件一出，吓得小编瑟瑟发抖，决心自己配置环境不再用集成环境。</p>
<p>一、apache 配置</p>
<p>首先我们先去apache 官网下载apache</p>
<p>apache2.4地址：https://www.apachehaus.com/cgi-bin/download.plx</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)0.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;我们点击红圈中得图标，下载apache.(如果下载网址是以de.开头请改为www 就能正常下载，如下图)</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)1.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;apache 下载完成之后，我们在D盘新建个文件为php ,在php 里面在新建两个文件夹叫，分别命名为php、www</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)2.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;然后把我们得apache 文件放到apache 目录下解压</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)3.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;配置环境，有两种方案（两种都可以）</p>
<p>方案一：https://jingyan.baidu.com/article/ce09321b754b062bff858f34.html<br />方案二如下：</p>
<p>打开D:\php\apache\Apache24\conf文件下的httpd.conf，进行修改</p>
<p>1.找到40 找到ServerRoot 设为自己的Apache24 目录（注意为/！！！）</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)4.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>2. 修改端口号 找到Listen 把80改为你想要得端口，个人喜欢用81（80端口容易被占用）</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)5.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>3.将231行 ServerName localhos:80前面的#去除掉</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)6.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;4.修改DocumentRoot Apache访问的主文件夹目录,也就是php、html代码文件的位置。Apache默认的路径是在htdocs(D:\apache\Apache24\htdocs)下面,里面有个index.html。这个路径是默认的，大家也可以做修改。我将它配置在刚刚修改的文件下D:\apache\www。</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)7.jpg" alt="" /></p>
<p>&nbsp;5.修改入口文件配置:Apache默认的入口只有index.html，但是我们一般情况下是以index.php、index.html、index.htm作为web项目的入口，所以我们还需要添加htm,php作为入口。</p>
<p>修改291 为</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)8.jpg" alt="" /></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000;">&nbsp;6.修改277行把 AllowOverride None 改为 AllowOverride All（路由需要）</span></p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)9.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;7.374行设定serverscript的目录:(<span style="color: #ff0000;">注意/</span>)</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)10.jpg" alt="" /></p>
<p>&nbsp;8.390行修改为</p>
<p>&nbsp;<img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)11.jpg" alt="" /></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000;">&nbsp;9.路由必开！！！</span></p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)12.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;配置到这差不多了，下面是ssl证书和配置apache服务了，</p>
<p>10.首先我们已管理员方式运行cmd ,然后进入D:\php\apache\Apache24\bin 目录，运行httpd&nbsp;-k&nbsp;install (或者直接进入此目录，按住shift 键，鼠标右键在此打开powershell，如下图所示，服务器为在此打开cmd)</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)13.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)14.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;运行命令之后，我们在任务栏右键打开任务管理器，切换到服务。可以看到我们得apache 服务已经有了（注：本人下载的为解压版，所以需要进行命令行操作，安装版本的apache不需要）</p>
<p>&nbsp;<img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)15.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>我们打开D:\php\apache\Apache24\bin，运行ApacheMonitor.exe<img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)16.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;然后在运行栏，选中他右键选择第一个open...打开它 ，点击开启apache 服务</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)17.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;如果运行失败，请打开D:\php\apache\Apache24\bind 打开powershell窗口(参照步骤10)，运行httpd.exe，如果是下方的错误，说明ssl配置有问题，请参照下方两种方案选择其中一种进行操作。</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)18.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>这个时候我们已经完成一半了，下面进行ssl 证书的配置，如果是本机开发不要的话请看方案一，如果需要配置ssl证书的请看方案二</p>
<p>方案一（不启用ssl）：</p>
<p>打开D:\php\apache\Apache24\conf\httpd.conf,注释掉180行和532、533行代码，然后再运行apache,就可以了</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)19.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)20.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;方案二（启用ssl）：</p>
<p>打开D:\php\apache\Apache24\conf\httpd.conf ，把180、532行注释去掉</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)21.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)22.jpg" alt="" /></p>
<p>&nbsp;把证书文件放到D:\php\apache\Apache24\cert 文件夹下（没有就创建一个）；</p>
<p>打开D:\php\apache\Apache24\conf\extra\httpd-ssl.conf ,把DocumentRoot设成D:\php\apache\www</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)23.jpg" alt="" /></p>
<p>添加如下代码：</p>
<p>&nbsp;SSLCertificateFile "D:\php\apache\Apache24\cert\你的证书文件名public.crt"<br />SSLCertificateKeyFile "D:\php\apache\Apache24\cert\你的证书文件名.key"<br />SSLCertificateChainFile "D:\php\apache\Apache24\cert\你的证书文件名.crt"</p>
<p>到此ssl 配置结束，启动apache 就可以了，</p>
<p>二、php配置</p>
<p>1.下载php</p>
<p>网址：https://windows.php.net/download/ 根据自己系统版本点击zip下载（小编的是64位系统）</p>
<p>&nbsp;<img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)24.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;2.下载完成之后放到之前建好的D:\php\apache\php 解压，</p>
<p>然后把php.ini-development文件复制一份改名为php.ini</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)25.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;3.然后进入D:\php\apache\Apache24\conf\httpd.conf </p>
<p>在最后添加如下语句（地址写自己的）</p>
<p># php7 support<br />LoadModule php7_module&nbsp; "D:/php/apache/php/php7apache2_4.dll"<br />AddType application/x-httpd-php .php .html .htm<br /># configure thepath to php.ini<br />PHPIniDir "D:/php/apache/php"</p>
<p>4.测试</p>
<p>进如www 目录，创建一个phpinfo.php文件，内容如下</p>
<p>&lt;?php<br />&nbsp;phpinfo(); <br />?&gt;</p>
<p>然后重启apache，在浏览器输入http://localhost:81/phpinfo.php （端口写自己配置的，默认80）</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)26.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;然后查看pdo下方为空，不要慌，请往下看</p>
<p>三、配置pdo 数据连接</p>
<p>sql&nbsp; server配置教程地址:https://www.cnblogs.com/huixch/p/7065033.html</p>
<p>oracle 配置地址：https://blog.csdn.net/qq_27238185/article/details/80568419</p>
<p>上方教程配置完成之后，打开php.ini 文件</p>
<p>搜索extension_dir，把738行注释去掉</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)27.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;然后重启apache ，在浏览器输入http://localhost:81/phpinfo.php，看到下面这个界面证明我们的服务都开启好了，到此php7.1.32+Apache2.4配置完成</p>
<p><img src="./images/php 7.1.32 +Apache 2.4  配置 (x64)28.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;最后奉上tp5 配置oracle 教程：https://www.jianshu.com/p/00216d85b237</p>
<p>分享不易，如果觉得好用的话请给我点个赞谢谢！</p>
<p>如有问题可以在下方回复我</p>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>