<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Redis常用指令' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Redis常用指令</center></div><div class='banquan'>原文出处:本文由博客园博主小果汁提供。<br/>
原文连接:https://www.cnblogs.com/laoliuBlog/p/11210532.html</div><br>
    <h1><strong>Redis 数据类型</strong></h1>
<h2><!--[if !supportLists]-->（一）<!--[endif]--><strong>String（字符串）</strong></h2>
<p class="p">　　</p>
<p class="p"><strong><span style="font-family: 宋体;">赋值</span> &nbsp;</strong>&nbsp;&nbsp;<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong></p>
<p class="p"><strong>　　　　　set &nbsp;&nbsp;</strong>name &nbsp;chengxiaoning &nbsp;&nbsp;<span style="font-family: 宋体;">设置指定</span><span style="font-family: Helvetica;">key</span><span style="font-family: 宋体;">的值</span></p>
<p class="p">&nbsp; 　　　<strong>　mset</strong> &nbsp;age &nbsp;18 &nbsp;&nbsp;sex &nbsp;<span style="font-family: 宋体;">男 &nbsp;&nbsp;设置多个</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">取值</span></strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&nbsp;&nbsp;get</strong> &nbsp;name &nbsp;&nbsp;<span style="font-family: 宋体;">获取指定的</span><span style="font-family: Helvetica;">key</span><span style="font-family: 宋体;">的值</span></p>
<p class="p">　　　　　<strong>mget</strong> &nbsp;number name&nbsp;<span style="font-family: 宋体;">获取多个值</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">先获取在设置</span></strong> &nbsp;<strong>getset</strong> name &nbsp;guoxiaoxiao &nbsp;&nbsp;<span style="font-family: 宋体;">将给定</span><span style="font-family: Helvetica;">key</span><span style="font-family: 宋体;">设置为</span><span style="font-family: Helvetica;">value</span><span style="font-family: 宋体;">的值，并返回</span><span style="font-family: Helvetica;">key</span><span style="font-family: 宋体;">的旧值</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">删除</span></strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>del</strong> &nbsp;name <span style="font-family: 宋体;">删除</span><span style="font-family: Helvetica;">key</span><span style="font-family: 宋体;">的值 &nbsp;如果有执行成功返回</span><span style="font-family: Helvetica;">1 &nbsp;</span><span style="font-family: 宋体;">失败返回</span><span style="font-family: Helvetica;">0</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">加一</span></strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&nbsp;incr</strong> &nbsp;number <span style="font-family: 宋体;">指定</span><span style="font-family: Helvetica;">key</span><span style="font-family: 宋体;">的值自增</span><span style="font-family: Helvetica;">1</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">减一</span></strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>decr</strong> &nbsp;number&nbsp;&nbsp;<span style="font-family: 宋体;">指定</span>key<span style="font-family: 宋体;">的值减</span><span style="font-family: Helvetica;">1</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">指定加值</span></strong> &nbsp;&nbsp;&nbsp;&nbsp;<strong>&nbsp;incrby</strong> number &nbsp;5 <span style="font-family: 宋体;">将</span><span style="font-family: Helvetica;">key</span><span style="font-family: 宋体;">所存储的值加上给定的增加值</span></p>
<p class="p"><strong><span style="font-family: 宋体;">指定减值</span></strong> &nbsp;&nbsp;&nbsp;&nbsp;<strong>decrby</strong> number &nbsp;3&nbsp;<span style="font-family: 宋体;">将</span>key<span style="font-family: 宋体;">所存储的值加上给定的减值</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">拼凑</span></strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>append</strong> &nbsp;a &nbsp;123</p>
<p class="p">&nbsp;</p>
<p class="p">Getrange <span style="font-family: 宋体;">返回 </span><span style="font-family: Helvetica;">key </span><span style="font-family: 宋体;">中字符串值的子字符</span></p>
<h2><!--[if !supportLists]-->（二）<!--[endif]--><strong>Hash（哈希）</strong></h2>
<p><span style="background-color: #ffff00;"><em><span style="font-family: Helvetica;">每个</span> hash 可以存储 2<sup>32</sup>&nbsp;-1 键值对（40多亿）。</em></span></p>
<p><strong><span style="font-family: Helvetica;">赋值</span>&nbsp;</strong> &nbsp; &nbsp;<strong> &nbsp;hset</strong>&nbsp; &nbsp;&nbsp;&nbsp;<strong>hmset&nbsp;</strong></p>
<p>　　　　hash1 &nbsp;&nbsp;name&nbsp;&nbsp;zhangsan&nbsp;&nbsp;<span style="font-family: Helvetica;">设置给定的</span>key的value</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hmset &nbsp;hash2 &nbsp;name &nbsp;lisi &nbsp;&nbsp;age &nbsp;18 &nbsp;&nbsp;sex &nbsp;nan 设置多个</p>
<p><strong><span style="font-family: Helvetica;">取值</span>&nbsp;</strong> &nbsp; &nbsp; &nbsp;<strong>hget&nbsp; &nbsp;&nbsp;hmget&nbsp; &nbsp;hgetall&nbsp;</strong></p>
<p>　　　　hget &nbsp;hash1 name&nbsp;&nbsp;&nbsp;<span style="font-family: Helvetica;">获取存储在哈希表中指定字段的值</span></p>
<p>　　　　hmget &nbsp;hash2 &nbsp;name &nbsp;age &nbsp;sex&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: Helvetica;">获取多个</span></p>
<p>　　　　hgetall &nbsp;hash2&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: Helvetica;">获取所有的</span></p>
<p><strong><span style="font-family: Helvetica;">删除</span>&nbsp;</strong> &nbsp; &nbsp; &nbsp;<strong>hdel&nbsp; &nbsp;&nbsp;del</strong></p>
<p>　　　　hdel &nbsp;hash2 &nbsp;name&nbsp;&nbsp;&nbsp;<span style="font-family: Helvetica;">删除指定的字段</span></p>
<p>&nbsp; 　　　 del &nbsp;hash2 &nbsp;删除指定所有</p>
<p><strong><span style="font-family: Helvetica;">增加</span> &nbsp;</strong>&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>　　　　hincrby &nbsp;&nbsp;hash1 age &nbsp;&nbsp;5</p>
<p>　　　&nbsp; &nbsp;hexists hash1 &nbsp;age&nbsp;&nbsp;<span style="font-family: Helvetica;">查看哈希表</span> key 中，指定的字段是否存在。</p>
<p>&nbsp;　　　&nbsp; hlen &nbsp;&nbsp;hash1&nbsp;&nbsp;&nbsp;<span style="font-family: Helvetica;">获取哈希表中字段的数量</span></p>
<p>　　&nbsp;　&nbsp; hkeys &nbsp;hash1&nbsp;<span style="font-family: Helvetica;">获取所有哈希表中的字段</span></p>
<p>　　　&nbsp; &nbsp;hvals &nbsp;hash1&nbsp;&nbsp;<span style="font-family: Helvetica;">获取哈希表中所有值</span></p>
<h2><!--[if !supportLists]-->（三）<!--[endif]--><strong>List（列表）</strong></h2>
<p><strong>　　</strong></p>
<p class="p"><span style="background-color: #ffff00;"><span style="font-family: Helvetica;">列表最多可存储</span> 2<sup>32</sup>&nbsp;- 1 元素 (4294967295, 每个列表可存储40多亿)。</span></p>
<p class="p"><strong><span style="font-family: 宋体;">两端添加</span> </strong>&nbsp;&nbsp;</p>
<p class="p">　　　　&nbsp;lpush &nbsp;&nbsp;mylist &nbsp;&nbsp;&nbsp;&nbsp;a &nbsp;&nbsp;b &nbsp;&nbsp;&nbsp;c &nbsp;&nbsp;<span style="font-family: 宋体;">将一个或多个元素插入到列表头部</span></p>
<p class="p">　　　　rpush &nbsp;&nbsp;mylist &nbsp;&nbsp;&nbsp;&nbsp;a &nbsp;&nbsp;b &nbsp;&nbsp;&nbsp;c &nbsp;&nbsp;<span style="font-family: 宋体;">将一个或多个元素插入到列表尾部</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">查看</span> &nbsp;&nbsp;</strong>&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="p">　　　　&nbsp;lrange &nbsp;mylist &nbsp;&nbsp;&nbsp;&nbsp;0 &nbsp;&nbsp;3 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 宋体;">获取列表指定范围内的元素</span></p>
<p class="p">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 宋体;">开始</span> &nbsp;<span style="font-family: 宋体;">结束</span> &nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 宋体;">结束</span>-1 <span style="font-family: 宋体;">为全部</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">两端弹出</span> </strong>&nbsp;&nbsp;</p>
<p class="p">　　　　lpop &nbsp;&nbsp;&nbsp;mylsit &nbsp;&nbsp;&nbsp;<span style="font-family: 宋体;">移除并获取列表的第一个值</span></p>
<p class="p">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rpop &nbsp;&nbsp;&nbsp;mylsit &nbsp;&nbsp;&nbsp;<span style="font-family: 宋体;">移除并获取列表的最后一个值</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">获取列表个数</span></strong> &nbsp;</p>
<p class="p">　　　　llen &nbsp;mylist &nbsp;&nbsp;&nbsp;<span style="font-family: 宋体;">获取列表的长度</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">仅当存在时才插入</span></strong> lpushx &nbsp;&nbsp;mylist &nbsp;&nbsp;&nbsp;q &nbsp;<span style="font-family: 宋体;">当</span><span style="font-family: Helvetica;">mylist</span><span style="font-family: 宋体;">存在的时候，将</span><span style="font-family: Helvetica;">p</span><span style="font-family: 宋体;">插入到头部</span></p>
<p class="p"><strong><span style="font-family: 宋体;">仅当存在时才插入</span></strong> rpushx &nbsp;&nbsp;mylist &nbsp;&nbsp;&nbsp;q &nbsp;<span style="font-family: 宋体;">当</span><span style="font-family: Helvetica;">mylist</span><span style="font-family: 宋体;">存在的时候，将</span><span style="font-family: Helvetica;">p</span><span style="font-family: 宋体;">插入到尾部</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">删除</span> &nbsp;</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="p">　　　　lrem &nbsp;&nbsp;&nbsp;mylist &nbsp;&nbsp;&nbsp;2 &nbsp;&nbsp;a</p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">在指定元素前【后】插入元素</span></strong> &nbsp;linsert &nbsp;mylist before[after] b &nbsp;&nbsp;11; &nbsp;&nbsp;<span style="font-family: 宋体;">在</span><span style="font-family: Helvetica;">b</span><span style="font-family: 宋体;">之后（之前）插入元素</span></p>
<p class="p">Rpoplpush &nbsp;mylist &nbsp;&nbsp;&nbsp;&nbsp;mylist2 &nbsp;&nbsp;<span style="font-family: 宋体;">从一个列表中弹出一个值压入到另一个列表中</span></p>
<h2>（四）Set<strong>（集合）</strong></h2>
<p class="p"><strong><span style="font-family: 宋体;">添加</span> </strong>&nbsp;&nbsp;&nbsp;&nbsp;sadd &nbsp;&nbsp;myset &nbsp;&nbsp;&nbsp;&nbsp;a &nbsp;&nbsp;b &nbsp;&nbsp;c</p>
<p class="p"><strong><span style="font-family: 宋体;">删除</span></strong> &nbsp;&nbsp;&nbsp;&nbsp;srem &nbsp;&nbsp;myset &nbsp;a &nbsp;&nbsp;b</p>
<p class="p"><strong><span style="font-family: 宋体;">查看</span></strong> &nbsp;&nbsp;smembers &nbsp;myset</p>
<p class="p"><strong><span style="font-family: 宋体;">是否存在</span></strong> sismember &nbsp;myset &nbsp;a &nbsp;&nbsp;myset<span style="font-family: 宋体;">中</span><span style="font-family: Helvetica;">a</span><span style="font-family: 宋体;">是否存在</span></p>
<p class="p"><strong><span style="font-family: 宋体;">差集</span></strong> &nbsp;&nbsp;&nbsp;&nbsp;sdiff &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myset1 &nbsp;&nbsp;myset2 &nbsp;&nbsp;&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">交集</span> </strong>&nbsp;&nbsp;&nbsp;sinsert myset1 &nbsp;&nbsp;&nbsp;myset2</p>
<p class="p"><strong><span style="font-family: 宋体;">并集</span></strong> &nbsp;&nbsp;sunion &nbsp;&nbsp;myset &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myset2</p>
<p class="p"><strong><span style="font-family: 宋体;">长度</span></strong> &nbsp;&nbsp;scard &nbsp;&nbsp;myset &nbsp;&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">随机返回成员</span></strong> &nbsp;&nbsp;&nbsp;srandmemberset &nbsp;&nbsp;myset</p>
<p class="p"><strong><span style="font-family: 宋体;">差集存入变量</span></strong> &nbsp;sdiffstore &nbsp;&nbsp;&nbsp;&nbsp;myset1 &nbsp;&nbsp;&nbsp;myset2 &nbsp;myset3 &nbsp;&nbsp;<span style="font-family: 宋体;">将</span><span style="font-family: Helvetica;">myset2</span><span style="font-family: 宋体;">和</span><span style="font-family: Helvetica;">myset3</span><span style="font-family: 宋体;">中的相差的值存入</span><span style="font-family: Helvetica;">myset1</span><span style="font-family: 宋体;">中</span></p>
<p class="p"><strong><span style="font-family: 宋体;">交集存入变量</span></strong> &nbsp;sinterstore &nbsp;&nbsp;&nbsp;&nbsp;myset1 &nbsp;&nbsp;&nbsp;myset2 &nbsp;myset3 &nbsp;&nbsp;<span style="font-family: 宋体;">将</span><span style="font-family: Helvetica;">myset2</span><span style="font-family: 宋体;">和</span><span style="font-family: Helvetica;">myset3</span><span style="font-family: 宋体;">中的交集的值存入</span><span style="font-family: Helvetica;">myset1</span><span style="font-family: 宋体;">中</span></p>
<p class="p"><strong><span style="font-family: 宋体;">并集存入变量</span></strong> &nbsp;sunionstore &nbsp;&nbsp;&nbsp;myset1 &nbsp;&nbsp;&nbsp;myset2 &nbsp;myset3 &nbsp;&nbsp;<span style="font-family: 宋体;">将</span><span style="font-family: Helvetica;">myset2</span><span style="font-family: 宋体;">和</span><span style="font-family: Helvetica;">myset3</span><span style="font-family: 宋体;">中的并差的值存入</span><span style="font-family: Helvetica;">myset1</span><span style="font-family: 宋体;">中</span></p>
<p class="p">&nbsp;</p>
<p class="p"><span style="font-family: Helvetica;">集合中最大的成员数为</span> 2<sup>32</sup>&nbsp;- 1(4294967295, 每个集合可存储40多亿个成员)。</p>
<h2><!--[if !supportLists]-->（五）<!--[endif]--><strong>zset(sorted set：有序集合)</strong></h2>
<p><span style="background-color: #ffff00;">Redis zset 和 set 一样也是string类型元素的集合,且不允许重复的成员。</span></p>
<p class="p"><span style="background-color: #ffff00;"><span style="font-family: Helvetica;">不同的是每个元素都会关联一个</span>double类型的分数。redis正是通过分数来为集合中的成员进行从小到大的排序。</span></p>
<p class="p"><span style="background-color: #ffff00;">zset的成员是唯一的,但分数(score)却可以重复。</span></p>
<p class="p">&nbsp;</p>
<p class="p"><strong><span style="font-family: 宋体;">添加</span></strong>&nbsp; &nbsp; &nbsp; &nbsp;Zadd &nbsp;mysort &nbsp;&nbsp;&nbsp;70 <span style="font-family: 宋体;">张三 &nbsp;&nbsp;&nbsp;</span><span style="font-family: Helvetica;">80 </span><span style="font-family: 宋体;">李四 &nbsp;</span><span style="font-family: Helvetica;">90</span><span style="font-family: 宋体;">王五</span></p>
<p class="p"><strong><span style="font-family: 宋体;">取值</span> </strong>&nbsp;&nbsp;　zcore &nbsp;myset &nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 宋体;">张三</span></p>
<p class="p">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;　　Zcard &nbsp;mysort &nbsp;&nbsp;<span style="font-family: 宋体;">成员数量</span></p>
<p class="p"><strong><span style="font-family: 宋体;">删除</span></strong> &nbsp;zrem &nbsp;&nbsp;mysort &nbsp;&nbsp;<span style="font-family: 宋体;">张三 &nbsp;李四</span></p>
<p class="p">　　　　Zrevrand &nbsp;mysort &nbsp;&nbsp;0 &nbsp;4 &nbsp;<span style="font-family: 宋体;">按照范围删除</span></p>
<p class="p">　　　　Zremrangbyscore &nbsp;mysort &nbsp;&nbsp;80 &nbsp;100 <span style="font-family: 宋体;">删除</span><span style="font-family: Helvetica;">80</span><span style="font-family: 宋体;">到</span><span style="font-family: Helvetica;">100</span><span style="font-family: 宋体;">之间的分数</span></p>
<p class="p"><strong><span style="font-family: 宋体;">范围查找</span></strong> &nbsp;zrang &nbsp;mysort &nbsp;0 &nbsp;-1<span style="font-family: 宋体;">全部的内容</span></p>
<p class="p">　　　　Zrem &nbsp;mysort &nbsp;&nbsp;&nbsp;0 &nbsp;-1 <span style="font-family: 宋体;">全部</span></p>
<p class="p">　　　　Zrang &nbsp;mysort &nbsp;&nbsp;0 &nbsp;&nbsp;-1 withscores &nbsp;&nbsp;<span style="font-family: 宋体;">元素对应的分数</span></p>
<p class="p">　　　　Zrangbyscore &nbsp;mysort &nbsp;1 &nbsp;100 withscores</p>
<p class="p">　　　　zincrby &nbsp;&nbsp;mysort &nbsp;&nbsp;&nbsp;3 &nbsp;list &nbsp;&nbsp;<span style="font-family: 宋体;">给</span><span style="font-family: Helvetica;">list+3</span></p>
<p class="p">　　　　Zcount &nbsp;&nbsp;mysort &nbsp;&nbsp;80 &nbsp;&nbsp;90 &nbsp;<span style="font-family: 宋体;">统计</span><span style="font-family: Helvetica;">80 </span><span style="font-family: 宋体;">到</span><span style="font-family: Helvetica;">90</span><span style="font-family: 宋体;">之间有多少</span></p>
<p>&nbsp;</p>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>