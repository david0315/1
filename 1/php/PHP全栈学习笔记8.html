<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修PHP全栈学习笔记8' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>PHP全栈学习笔记8</center></div><div class='banquan'>原文出处:本文由博客园博主达达前端小酒馆提供。<br/>
原文连接:https://www.cnblogs.com/dashucoding/p/10763113.html</div><br>
    <p><img src="./images/PHP全栈学习笔记80.jpg" alt="PHP全栈学习笔记8" /></p>
<p>面向对象的基本概念，面向对象编程，oop，面向对象，面向对象的分析，面向对象的设计，面向对象的编程，什么是类。</p>
<p>类，属性和方法，类，对象，面向对象编程的三大特点。特点，封装性，继承性，多态性。</p>
<p>封装性，也可以称为信息隐藏。<br />
继承性就是派生类（子类）自动继承一个或多个基类（父类）中的属性与方法，并可以重写或添加新的属性或方法。<br />
多态性是指同一个类的不同对象，使用同一个方法可以获得不同的结果，这种技术称为多态性。</p>
<p>类的定义，成员方法，类的实例化，成员变量，类常量，构造方法和析构方法，继承和多态的实现，数据的隐藏，静态变量。</p>
<p>类的定义：</p>
<pre><code><code>&lt;?php
class SpoObject{            //定义类
    //…
}
?&gt;</code></code></pre>
<p>成员方法：</p>
<pre><code><code>&lt;?php
    class SportObject{
        function beatBasketball()($name,$height,$avoirdupois,$age,$sex){    //声明成员方法
            echo &quot;姓名：&quot;.$name;   //方法实现的功能
    
        }
    }
?&gt;</code></code></pre>
<p>类的实例化:</p>
<pre><code><code>对象名 -&gt; 成员方法</code></code></pre>
<p>成员变量<br />
类中的变量，也称为成员变量</p>
<p>关键字 成员变量名<br />
对象名 -&gt; 成员变量</p>
<p>类常量<br />
常量就是不会改变的量，是一个恒值。<br />
定义常量使用关键字const<br />
输出格式：</p>
<pre><code><code>类名::常量名</code></code></pre>
<blockquote>
<p>构造方法和析构方法</p>
</blockquote>
<pre><code><code>void __construct([mixed args [,…]])
void __destruct ( void )</code></code></pre>
<p>示例：</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;成员变量&lt;/title&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;!--
body,td,th {
    font-size: 12px;
}
body {
    margin-left: 10px;
    margin-top: 10px;
    margin-right: 10px;
    margin-bottom: 10px;
}
--&gt;
&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;
&lt;?php
class SportObject{
    public $name;                               //定义成员变量
    public $height;                             //定义成员变量
    public $avoirdupois;                        //定义成员变量
    
    public function bootFootBall($name,$height,$avoirdupois){               //声明成员方法
        $this-&gt;name=$name;
        $this-&gt;height=$height;
        $this-&gt;avoirdupois=$avoirdupois;
        if($this-&gt;height&lt;185 and $this-&gt;avoirdupois&lt;85){
            return $this-&gt;name.&quot;，符合踢足球的要求!&quot;;            //方法实现的功能
        }else{
            return $this-&gt;name.&quot;，不符合踢足球的要求!&quot;;           //方法实现的功能
        }
    }
}
$sport=new SportObject();           //实例化类，并传递参数
echo $sport-&gt;bootFootBall(&#39;1&#39;,&#39;185&#39;,&#39;80&#39;);                              //执行类中的方法
?&gt;

&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;成员方法&lt;/title&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;!--
body,td,th {
    font-size: 12px;
}
body {
    margin-left: 10px;
    margin-top: 10px;
    margin-right: 10px;
    margin-bottom: 10px;
}
--&gt;
&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;
&lt;?php
    class SportObject{
        function beatBasketball($name,$height,$avoirdupois,$age,$sex){              //声明成员方法
            if($height&gt;180 and $avoirdupois&lt;=100){
                return $name.&quot;，符合打篮球的要求!&quot;;          //方法实现的功能
            }else{
                return $name.&quot;，不符合打篮球的要求!&quot;;         //方法实现的功能
            }
        }
    }
    $sport=new SportObject();
    echo $sport-&gt;beatBasketball(&#39;1&#39;,&#39;185&#39;,&#39;80&#39;,&#39;20周岁&#39;,&#39;男&#39;);
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;常量&lt;/title&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;!--
body,td,th {
    font-size: 12px;
}
body {
    margin-left: 10px;
    margin-top: 10px;
    margin-right: 10px;
    margin-bottom: 10px;
}
--&gt;
&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;
&lt;?php
class SportObject{
    const BOOK_TYPE = &#39;计算机图书&#39;;
    public $object_name;                        //图书名称
    function setObjectName($name){              //声明方法setObjectName()
        $this -&gt; object_name = $name;           //设置成员变量值
    }
    function getObjectName(){                   //声明方法getObjectName()
        return $this -&gt; object_name;
    }
}
$c_book = new SportObject();                        //实例化对象
$c_book -&gt; setObjectName(&quot;PHP类&quot;);               //调用方法setObjectName
echo SportObject::BOOK_TYPE.&quot;-&gt;&quot;;                   //输出常量BOOK_TYPE
echo $c_book -&gt; getObjectName();                //调用方法getObjectName
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;构造方法&lt;/title&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;!--
body,td,th {
    font-size: 12px;
}
body {
    margin-left: 10px;
    margin-top: 10px;
    margin-right: 10px;
    margin-bottom: 10px;
}
--&gt;
&lt;/style&gt;&lt;/head&gt;
&lt;body&gt;
&lt;?php
class SportObject{
    public $name;                               //定义成员变量
    public $height;                             //定义成员变量
    public $avoirdupois;                        //定义成员变量
    public $age;                                //定义成员变量
    public $sex;                                //定义成员变量
    public function __construct($name,$height,$avoirdupois,$age,$sex){              //定义构造方法
        $this-&gt;name=$name;                      //为成员变量赋值
        $this-&gt;height=$height;                  //为成员变量赋值
        $this-&gt;avoirdupois=$avoirdupois;        //为成员变量赋值
        $this-&gt;age=$age;                        //为成员变量赋值
        $this-&gt;sex=$sex;                        //为成员变量赋值
    }
    public function bootFootBall(){             //声明成员方法
        if($this-&gt;height&lt;185 and $this-&gt;avoirdupois&lt;85){
            return $this-&gt;name.&quot;，符合踢足球的要求!&quot;;            //方法实现的功能
        }else{
            return $this-&gt;name.&quot;，不符合踢足球的要求!&quot;;           //方法实现的功能
        }
    }
}
$sport=new SportObject(&#39;1&#39;,&#39;185&#39;,&#39;80&#39;,&#39;20&#39;,&#39;男&#39;);            //实例化类，并传递参数
echo $sport-&gt;bootFootBall();                                //执行类中的方法

?&gt;

&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>析构方法，是对象被销毁时被调用的，作用是释放内存。</p>
<pre><code><code>void __destruct ( void )</code></code></pre>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;析构方法&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class SportObject{
    public $name;                               //定义成员变量
    public $height;                             //定义成员变量
    public $avoirdupois;                        //定义成员变量
    public $age;                                //定义成员变量
    public $sex;                                //定义成员变量
    public function __construct($name,$height,$avoirdupois,$age,$sex){              //定义构造方法
        $this-&gt;name=$name;                      //为成员变量赋值
        $this-&gt;height=$height;                  //为成员变量赋值
        $this-&gt;avoirdupois=$avoirdupois;        //为成员变量赋值
        $this-&gt;age=$age;                        //为成员变量赋值
        $this-&gt;sex=$sex;                        //为成员变量赋值
    }
    public function bootFootBall(){             //声明成员方法
        if($this-&gt;height&lt;185 and $this-&gt;avoirdupois&lt;85){
            return $this-&gt;name.&quot;，符合踢足球的要求!&quot;;            //方法实现的功能
        }else{
            return $this-&gt;name.&quot;，不符合踢足球的要求!&quot;;           //方法实现的功能
        }
    }
    function __destruct(){
        echo &quot;&lt;p&gt;&lt;b&gt;对象被销毁，调用析构函数。&lt;/b&gt;&lt;/p&gt;&quot;;
    }
}
$sport=new SportObject(&#39;1&#39;,&#39;185&#39;,&#39;80&#39;,&#39;20&#39;,&#39;男&#39;);            //实例化类，并传递参数
//unset($sport);    

?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<h2 id="继承和多态的实现">继承和多态的实现</h2>
<p>所有成员变量和方法<br />
构造函数<br />
先调用子类中的方法<br />
去调用父类中的构造方法</p>
<pre><code><code>class subClass extends superClass{
…
}</code></code></pre>
<p>多态存在两种形式：覆盖和重载。</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;继承的实现&lt;/title&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
/*  父类  */
class SportObject{
    public $name;                               //定义姓名成员变量
    public $age;                                //定义年龄成员变量
    public $avoirdupois;                        //定义体重成员变量
    public $sex;                                //定义性别成员变量
    public function __construct($name,$age,$avoirdupois,$sex){              //定义构造方法
        $this-&gt;name=$name;                      //为成员变量赋值
        $this-&gt;age=$age;                        //为成员变量赋值
        $this-&gt;avoirdupois=$avoirdupois;        //为成员变量赋值
        $this-&gt;sex=$sex;                        //为成员变量赋值
    }
    function showMe(){                          //定义方法
        echo &#39;这句话不会显示。&#39;;
    }
}
/*  子类BeatBasketBall  */
class BeatBasketBall extends SportObject{               //定义子类，继承父类
    public $height;                                     //定义身高成员变量
    function __construct($name,$height){                //定义构造方法
        $this -&gt; height = $height;                      //为成员变量赋值
        $this -&gt; name = $name;                          //为成员变量赋值
    }
    function showMe(){                                  //定义方法
        if($this-&gt;height&gt;185){
            return $this-&gt;name.&quot;，符合打篮球的要求!&quot;;            //方法实现的功能
        }else{
            return $this-&gt;name.&quot;，不符合打篮球的要求!&quot;;           //方法实现的功能
        }
    }
}
/*  子类WeightLifting  */
class WeightLifting extends SportObject{                        //继承父类
    function showMe(){                                          //定义方法
        if($this-&gt;avoirdupois&lt;85){
            return $this-&gt;name.&quot;，符合举重的要求!&quot;;             //方法实现的功能
        }else{
            return $this-&gt;name.&quot;，不符合举重的要求!&quot;;            //方法实现的功能
        }
    }
}


//实例化对象
$beatbasketball = new BeatBasketBall(&#39;&#39;,&#39;190&#39;);             //实例化子类
$weightlifting = new WeightLifting(&#39;&#39;,&#39;185&#39;,&#39;80&#39;,&#39;20&#39;,&#39;男&#39;);
echo $beatbasketball-&gt;showMe().&quot;&lt;br&gt;&quot;;                          //输出结果
echo $weightlifting-&gt;showMe().&quot;&lt;br&gt;&quot;;
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>继承的实现</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;继承的实现&lt;/title&gt;
&lt;style type=&quot;text/css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
/*  父类  */
class SportObject{
    public $name;                               //定义姓名成员变量
    public $age;                                //定义年龄成员变量
    public $avoirdupois;                        //定义体重成员变量
    public $sex;                                //定义性别成员变量
    public function __construct($name,$age,$avoirdupois,$sex){              //定义构造方法
        $this-&gt;name=$name;                      //为成员变量赋值
        $this-&gt;age=$age;                        //为成员变量赋值
        $this-&gt;avoirdupois=$avoirdupois;        //为成员变量赋值
        $this-&gt;sex=$sex;                        //为成员变量赋值
    }
    function showMe(){                          //定义方法
        echo &#39;这句话不会显示。&#39;;
    }
}
/*  子类BeatBasketBall  */
class BeatBasketBall extends SportObject{               //定义子类，继承父类
    public $height;                                     //定义身高成员变量
    function __construct($name,$height){                //定义构造方法
        $this -&gt; height = $height;                      //为成员变量赋值
        $this -&gt; name = $name;                          //为成员变量赋值
    }
    function showMe(){                                  //定义方法
        if($this-&gt;height&gt;185){
            return $this-&gt;name.&quot;，符合打篮球的要求!&quot;;            //方法实现的功能
        }else{
            return $this-&gt;name.&quot;，不符合打篮球的要求!&quot;;           //方法实现的功能
        }
    }
}
/*  子类WeightLifting  */
class WeightLifting extends SportObject{                        //继承父类
    function showMe(){                                          //定义方法
        if($this-&gt;avoirdupois&lt;85){
            return $this-&gt;name.&quot;，符合举重的要求!&quot;;             //方法实现的功能
        }else{
            return $this-&gt;name.&quot;，不符合举重的要求!&quot;;            //方法实现的功能
        }
    }
}


//实例化对象
$beatbasketball = new BeatBasketBall(&#39;&#39;,&#39;190&#39;);             //实例化子类
$weightlifting = new WeightLifting(&#39;&#39;,&#39;185&#39;,&#39;80&#39;,&#39;20&#39;,&#39;男&#39;);
echo $beatbasketball-&gt;showMe().&quot;&lt;br&gt;&quot;;                          //输出结果
echo $weightlifting-&gt;showMe().&quot;&lt;br&gt;&quot;;
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>重载:<br />
传递的参数个数不同，调用不同的方法，返回不同的值。</p>
<pre><code><code>&lt;?php 
    class C{
        function __call($name,$num){        //调用不存在的方法
        echo &quot;方法名称：&quot; . $name . &quot;&lt;p&gt;&quot;;       //输出方法名
        echo &quot;参数存在个数：&quot; . count($num) . &quot;&lt;p&gt;&quot;;   //输出参数个数
            if (count($num) == 1){  //根据参数个数调用不同的方法
                echo $this-&gt;list1($a);  
            }
            if (count($num) == 2){  //根据参数个数调用不同的方法
                echo $this-&gt;list2($a,$b);
            }
        }
        public function list1($a){      //定义方法
            return &quot;这是list1函数&quot;;
        }
        public function list2($a,$b){   //定义方法
            return &quot;这是list2函数&quot;;
        }
    }
$a = new C;                 //类的实例化
$a-&gt;listshow(1,2);              //调用方法，传递参数
?&gt;</code></code></pre>
<pre><code><code>关键字::变量名/常量名/方法名</code></code></pre>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;伪变量$this&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
    class example{
        function exam(){
            if(isset($this)){
                echo &#39;$this的值为：&#39;.get_class($this);
            }else{
                echo &#39;$this未定义&#39;;
            }
        }
    }
    $class_name = new example();
    $class_name-&gt;exam();
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;“::”操作符&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class Book{
    const NAME = &#39;computer&#39;;                            //常量NAME
    function __construct(){                             //构造方法
        echo &#39;本月图书类冠军为：&#39;.Book::NAME.&#39; &#39;;        //输出默认值
    }
}
class l_book extends Book{                              //Book类的子类
    const NAME = &#39;foreign language&#39;;                    //声明常量
    function __construct(){                             //子类的构造方法
        parent::__construct();                          //调用父类的构造方法
        echo &#39;本月图书类冠军为：&#39;.self::NAME.&#39; &#39;;        //输出本类中的默认值
    }
}
$obj = new l_book();                                    //实例化对象
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>parent: 可以调用父类中的成员变量，成员方法和常量。</p>
<p>self:可以调用当前类中的静态成员和常量。</p>
<p>类名:可以调用本类中的变量，常量和方法。</p>
<blockquote>
<p>数据隐藏</p>
</blockquote>
<p>public（公共成员）<br />
private（私有成员）<br />
protected（保护成员）</p>
<pre><code><code>public, private, protected, static, final</code></code></pre>
<p>静态变量（方法）</p>
<pre><code><code>关键字::静态成员</code></code></pre>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;private关键字&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class Book{
    private $name = &#39;computer&#39;;                         //声明私有变量$name
    public function setName($name){                     //设置私有变量
        $this -&gt; name = $name;
    }
    public function getName(){                          //读取私有变量
        return $this -&gt; name;
    }
}
class LBook extends Book{                               //Book类的子类  
}
$lbook = new LBook();                                   //实例化对象
echo &#39;正确操作私有变量的方法：&#39;;
$lbook -&gt; setName(&quot;PHP&quot;);                   //对私有变量进行操作
echo $lbook -&gt; getName();
echo &#39;&lt;br&gt;直接操作私有变量的结果：&#39;;                    //对私有变量进行操作
echo Book::$name;
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>private只能在所属类的内部被调和修改，不可以在类外被访问。</p>
<p>protected修饰的类成员，可以在本类和子类中被调用，其他地方不可以被调用。</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;protected关键字&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class Book{
    protected $name = &#39;computer&#39;;                       //声明保护变量$name
}
class LBook extends Book{                               //Book类的子类
    public function showMe(){
        echo &#39;对于protected修饰的变量，在子类中是可以直接调用的。如：$name = &#39;.$this -&gt; name;
    }
}
$lbook = new LBook();                                   //实例化对象
$lbook -&gt; showMe();
echo &#39;&lt;p&gt;但在其他的地方是不可以调用的，否则：&#39;;           //对私有变量进行操作
$lbook -&gt; name = &#39;history&#39;;
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;protected关键字&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class Book{
    protected $name = &#39;computer&#39;;                       //声明保护变量$name
}
class LBook extends Book{                               //Book类的子类
    public function showMe(){
        echo &#39;对于protected修饰的变量，在子类中是可以直接调用的。如：$name = &#39;.$this -&gt; name;
    }
}
$lbook = new LBook();                                   //实例化对象
$lbook -&gt; showMe();
echo &#39;&lt;p&gt;但在其他的地方是不可以调用的，否则：&#39;;           //对私有变量进行操作
$lbook -&gt; name = &#39;会报错，这里就错了&#39;;
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>静态变量：</p>
<pre><code><code>关键字::静态成员</code></code></pre>
<p>self，在类内部调用 静态成员所使用</p>
<p>在静态方法中，只能调用静态变量，不能调用普通变量，而普通方法可以调用静态变量。</p>
<p>对象被销毁后，仍然保存被修改的静态数据。</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;静态变量的使用&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class Book{                                     //Book类
    static $num = 0;                            //声明一个静态变量$num，初值为0
    public function showMe(){                   //申明一个方法
        echo &#39;您是第&#39;.self::$num.&#39;位访客&#39;;        //输出静态变量
        self::$num++;                           //将静态变量加1
    }
}
$book1 = new Book();                            //实例化对象$book1
$book1 -&gt; showMe();                             //调用showMe()方法
echo &quot;&lt;br&gt;&quot;;
$book2 = new Book();                            //实例化对象$book2;
$book2 -&gt; showMe();                             //再次调用showMe()方法
echo &quot;&lt;br&gt;&quot;;
echo &#39;您是第&#39;.Book::$num.&#39;为访客&#39;;                //直接使用类名调用静态变量
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>运行效果是：</p>
<p>您是第0位访客<br />
您是第1位访客<br />
您是第2位访客</p>
<p>对象的高级应用</p>
<p>final关键字，抽象类，接口的使用，克隆对象，对象比较，对象类型检测，魔术方法。</p>
<pre><code><code>不可以被继承，不能有子类
final class class_name{
//…
}

final function method_name() 不可以重写和覆盖</code></code></pre>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;final类&lt;/title&gt;
&gt;&lt;/head&gt;
&lt;body&gt;
&lt;?php
    final class SportObject{
        function  __construct(){
            echo &#39;不能被继承，不能有子类&#39;;
        }
    }
    class MyBook extends SportObject{
        static function exam(){
            echo &quot;会报错的&quot;;
        }
    }
    MyBook::exam();
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>抽象类，是不能被实例化的类，只能作为父类来使用:</p>
<pre><code><code>abstract class AbstractName{
…
}</code></code></pre>
<p>抽象类，一样有成员变量，成员方法，抽象类至少包含一个抽象方法，抽象方法没有方法体，其功能在子类完成。</p>
<pre><code><code>abstract function abstractName();</code></code></pre>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;抽象类&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
    abstract class CommodityObject{                         //定义抽象类
        abstract function service($getName,$price,$num);    //定义抽象方法
    }
    class MyBook extends CommodityObject{               //定义子类，继承抽象类
        function service($getName,$price,$num){     //定义方法
            echo &#39;您购买的商品是&#39;.$getName.&#39;，该商品的价格是：&#39;.$price.&#39; 元。&#39;;
            echo &#39;您购买的数量为：&#39;.$num.&#39; 本。&#39;;
            echo &#39;如发现缺页，请在3日内更换。&#39;;
        }
    }
    class MyComputer extends CommodityObject{           //定义子类继承父类
        function service($getName,$price,$num){         //定义方法
            echo &#39;您购买的商品是&#39;.$getName.&#39;，该商品的价格是：&#39;.$price.&#39; 元。&#39;;
            echo &#39;您购买的数量为：&#39;.$num.&#39; 台。&#39;;
            echo &#39;如发生非人为质量问题，请在3个月内更换。&#39;;
        }
    }
    $book = new MyBook();                   //实例化子类
    $computer = new MyComputer();           //实例化子类
    $book -&gt; service(&#39;PHP&#39;,5,3);    //调用方法
    echo &#39;&lt;p&gt;&#39;;
    $computer -&gt; service(&#39;XX本&#39;,800,1);      //调用方法
    
    
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<h2 id="接口">接口</h2>
<pre><code><code>interface InterfaceName{
    function interfaceName1();
    function interfaceName2();
    …
}

class SubClass implements InterfaceName1，InterfaceName2{
    function interfaceName1(){  //功能实现
}
    function interfaceName2(){  //功能实现
}
    …
}</code></code></pre>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;接口&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
    interface MPopedom{
        function popedom();
    }
    interface MPurview{
        function purview();
    }
    class Member implements MPurview{
        function purview(){
            echo &#39;会员&#39;;
        }
    }
    class Manager implements MPurview,MPopedom{
        function purview(){
            echo &#39;管理员拥有全部权限。&#39;;
        }
        function popedom(){
            echo &#39;管理员还没有的权限&#39;;
        }
    }
    $member = new Member();
    $manager = new Manager();
    $member -&gt; purview();
    echo &#39;&lt;p&gt;&#39;;
    $manager -&gt; purview();
    $manager -&gt;popedom();
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>克隆对象</p>
<pre><code><code>$object1 = new ClassName();
$object2 = clone $object1;</code></code></pre>
<p>__clone()方法,调用__clone()方法，可以克隆出来的对象的一些行为及属性</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;对象的引用&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class SportObject{                                  //类SportObject
    private $object_type = &#39;book&#39;;              //声明私有变量$object_type，并赋初值等于“book”
    public function setType($type){             //声明成员方法setType，为变量$object_type赋值
        $this -&gt; object_type = $type;
    }
    public function getType(){                  //声明成员方法getType，返回变量$object_type的值
        return $this -&gt; object_type;
    }
}
$book1 = new SportObject();                     //实例化对象$book1
$book2 = $book1;                                //使用普通数据类型的方法给对象$book2赋值
$book2 -&gt; setType(&#39;computer&#39;);                  //改变对象$book2的值
echo &#39;对象$book1的值为：&#39;.$book1 -&gt; getType();    //输出对象$book1的值
?&gt;

&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>对象比较<br />
两个等号“==”是比较两个对象的内容<br />
3个等号“===”是比较对象的引用地址</p>
<p>对象类型检测<br />
instanceof操作符可以检测当前对象是属于哪个类</p>
<pre><code><code>ObjectName instanceof ClassName</code></code></pre>
<blockquote>
<p>魔术方法</p>
</blockquote>
<pre><code><code>__construct()、__destruct()和__clone()
__set()和__get()方法
__call()方法
__sleep()和__wakeup()方法
__toString()方法
__autoload()方法</code></code></pre>
<p>__call()方法包含两个参数，即方法名和方法参数<br />
方法参数是以数组形式存在的</p>
<p>_set()方法包含两个参数，分别表示变量名称和变量值</p>
<p>__get()方法有一个参数，表示要调用的变量名</p>
<p>使用serialize()函数可以实现序列化对象<br />
unserialize()函数可以重新还原一个被serialize()函数序列化的对象</p>
<p>__sleep()方法可以清除对象并返回一个该对象中所有变量的数组</p>
<p>__wakeup()方法则是恢复在序列化中可能丢失的数据库连接及相关工作</p>
<p>__toString()方法将对象转化为字符串</p>
<h2 id="对象的比较">对象的比较</h2>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;对象的比较&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
    class SportObject{
        private $name;
        function __construct($name){
            $this -&gt; name = $name;
        }
    }
    $book = new SportObject(&#39;book&#39;);
    $cloneBook = clone $book;
    $referBook = $book;
    if($cloneBook == $book){
        echo &#39;两个对象的内容相等&lt;br&gt;&#39;;
    }
    if($referBook === $book){
        echo &#39;两个对象的引用地址相等&lt;br&gt;&#39;;
    }
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<blockquote>
<p>对象的比较</p>
</blockquote>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;对象的比较&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
    class SportObject{
        private $name;
        function __construct($name){
            $this -&gt; name = $name;
        }
    }
    $book = new SportObject(&#39;book&#39;);
    $cloneBook = clone $book;
    $referBook = $book;
    if($cloneBook == $book){
        echo &#39;两个对象的内容相等&lt;br&gt;&#39;;
    }
    if($referBook === $book){
        echo &#39;两个对象的引用地址相等&lt;br&gt;&#39;;
    }
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<blockquote>
<p>对象类型检测</p>
</blockquote>
<p>instanceof操作符可以检测当前对象是属于哪个类</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;对象类型检测&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class SportObject{}
class MyBook extends SportObject{
    private $type;
}
$cBook = new MyBook();
if($cBook instanceof MyBook)
    echo &#39;对象$cBook属于MyBook类&lt;br&gt;&#39;;
if($cBook instanceof SportObject)
    echo &#39;对象$cBook属于SportObject类&lt;br&gt;&#39;;
?&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>测试结果：</p>
<pre><code><code>对象$cBook属于MyBook类

对象$cBook属于SportObject类</code></code></pre>
<p>魔术方法：<br />
__set()和__get()方法</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;__set()和__get()方法&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class SportObject
{
    private $type = &#39; &#39;;
    public function getType(){
        return $this -&gt; type;
    }
    private function __get($name){
        if(isset($this -&gt;$name)){
            echo &#39;变量&#39;.$name.&#39;的值为：&#39;.$this -&gt; $name.&#39;&lt;br&gt;&#39;;
        }
        else{
            echo &#39;变量&#39;.$name.&#39;未定义，初始化为0&lt;br&gt;&#39;;
            $this -&gt; $name = 0;
        }
    }
    private function __set($name, $value){
        if(isset($this -&gt; $name)){
            $this -&gt; $name = $value;    
            echo &#39;变量&#39;.$name.&#39;赋值为：&#39;.$value.&#39;&lt;br&gt;&#39;;
        }else{
            $this -&gt; $name = $value;
            echo &#39;变量&#39;.$name.&#39;被初始化为：&#39;.$value.&#39;&lt;br&gt;&#39;;
        }
    }
}
$MyComputer = new SportObject();
$MyComputer -&gt; type = &#39;DIY&#39;;
$MyComputer -&gt; type;
$MyComputer -&gt; name;
?&gt; 
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>变量type赋值为:DIY<br />
变量type的值为:DIY<br />
变量name未定义，初始化为0<br />
变量name被初始化为：0</p>
<p>__call()方法</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;__call()方法&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class SportObject
{
    public function myDream(){
        echo &#39;调用的方法存在，直接执行此方法。&lt;p&gt;&#39;;
    }
    public function __call($method, $parameter)
    {
        echo &#39;如果方法不存在，则执行__call()方法。&lt;br&gt;&#39;;
        echo &#39;方法名为：&#39;.$method.&#39;&lt;br&gt;&#39;;
        echo &#39;参数有：&#39;;
        var_dump($parameter);
    }
}
$MyLife = new SportObject();
$MyLife -&gt; myDream();
$MyLife -&gt; mDream(&#39;how&#39;,&#39;what&#39;,&#39;why&#39;);
?&gt; 
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>__sleep()和__wakeup()方法</p>
<p>__sleep()方法可以清除对象并返回一个包含对象中所有变量的数组。</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;__sleep()和__wakeup()方法&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class SportObject{
    private $type = &#39;DIY&#39;;
    public function getType(){
        return $this -&gt; type;
    }
    public function __sleep(){
        echo &#39;使用serialize()函数将对象保存起来，可以存放到文本文件、数据库等地方&lt;br&gt;&#39;;
        return $this;
    }
    public function __wakeup(){
        echo &#39;当需要该数据时，使用unserialize()函数对已序列化的字符串进行操作，将其转换回对象&lt;br&gt;&#39;;
    }
}
$myBook = new SportObject();
$i = serialize($myBook);
echo &#39;序列化后的字符串：&#39;.$i.&#39;&lt;br&gt;&#39;;
$reBook = unserialize($i);
echo &#39;还原后的成员变量：&#39;.$reBook -&gt; getType();
?&gt; 
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>__toString()方法</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;__toString()方法&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
class SportObject{
    private $type = &#39;DIY&#39;;
    public function __toString(){
        return $this -&gt; type;
    }
}
$myComputer = new SportObject();
echo &#39;对象$myComputer的值为：&#39;;
echo  $myComputer;
?&gt; 
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<p>__autoload()方法自动实例化需要使用的类</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;__autoload()方法自动实例化需要使用的类&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
    function __autoload($class_name){
        $class_path = $class_name.&#39;.class.php&#39;;
        if(file_exists($class_path)){
            include_once($class_path);
        }else
            echo &#39;类路径错误。&#39;;
    }
    $myBook = new SportObject(&quot;江山代有人才出　各领风骚数百年&quot;);
    echo $myBook;
?&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;?php
class SportObject{
    private $cont;
    public function __construct($cont){
        $this -&gt; cont = $cont;
    }
    public function __toString(){
        return $this -&gt; cont;
    }
}
?&gt;</code></code></pre>
<p>中文字符串的截取类</p>
<pre><code><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;
&lt;title&gt;中文字符串的截取类&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php 
class MsubStr{
    function csubstr($str, $start, $len) {              //$str指的是字符串,$start指的是字符串的起始位置，$len指的是长度。
    $strlen = $start + $len;                            //用$strlen存储字符串的总长度（从字符串的起始位置到字符串的总长度）
    for($i = 0; $i &lt; $strlen; $i ++) {                  //通过for循环语句,循环读取字符串
        if (ord ( substr ( $str, $i, 1 ) ) &gt; 0xa0) {    //如果字符串中首个字节的ASCII序数值大于0xa0,则表示为汉字
            $tmpstr .= substr ( $str, $i, 2 );          //每次取出两位字符赋给变量$tmpstr，即等于一个汉字
            $i ++;                                      //变量自加1
        } else {                                        //如果不是汉字，则每次取出一位字符赋给变量$tmpstr
            $tmpstr .= substr ( $str, $i, 1 );
        }
    }
    return $tmpstr;                                     //输出字符串
    }
}
$mc=new MsubStr();                                      //类的实例化
?&gt; 
&lt;table width=&quot;204&quot; height=&quot;195&quot; border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; background=&quot;images/bg.JPG&quot;&gt;
  &lt;tr&gt;
    &lt;td width=&quot;25&quot; height=&quot;37&quot;&gt;&amp;nbsp;&lt;/td&gt;
    &lt;td width=&quot;157&quot;&gt;&amp;nbsp;&lt;/td&gt;
    &lt;td width=&quot;22&quot;&gt;&amp;nbsp;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td height=&quot;30&quot;&gt;&amp;nbsp;&lt;/td&gt;
    &lt;td&gt;&lt;?php 
            $string=&quot;关注！&quot;;
            if(strlen($string)&gt;10){
                echo substr($string,0,9).&quot;...&quot;;
            }else{
                echo $string;
            }
        ?&gt;
    &lt;/td&gt;
    &lt;td&gt;&amp;nbsp;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td height=&quot;30&quot;&gt;&amp;nbsp;&lt;/td&gt;
    &lt;td&gt;&lt;?php 
            $string=&quot;关注&quot;;
            if(strlen($string)&gt;10){
                echo substr($string,0,9).&quot;...&quot;;
            }else{
                echo $string;
            }
        ?&gt;&lt;/td&gt;
    &lt;td&gt;&amp;nbsp;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td height=&quot;30&quot;&gt;&amp;nbsp;&lt;/td&gt;
    &lt;td&gt;
        &lt;?php 
            $strs=&quot;关注&quot;;
            if(strlen($string)&gt;10){
                echo $mc -&gt;csubstr($strs, &quot;0&quot; , &quot;9&quot;).&quot;...&quot;;
            }else{
                echo $strs;
            }
        ?&gt;
    &lt;/td&gt;
    &lt;td&gt;&amp;nbsp;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td height=&quot;30&quot;&gt;&amp;nbsp;&lt;/td&gt;
    &lt;td&gt;&lt;?php 
            $strs=&quot;关注&quot;;
            if(strlen($string)&gt;30){
                echo $mc -&gt;csubstr($strs, &quot;0&quot; , &quot;20&quot;).&quot;...&quot;;
            }else{
                echo $strs;
            }
        ?&gt;
    &lt;/td&gt;
    &lt;td&gt;&amp;nbsp;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td height=&quot;38&quot;&gt;&amp;nbsp;&lt;/td&gt;
    &lt;td&gt;&amp;nbsp;&lt;/td&gt;
    &lt;td&gt;&amp;nbsp;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;?php 
class MsubStr{
    function csubstr($str, $start, $len) { //$str指的是字符串,$start指的是字符串的起始位置，$len指的是长度。
    $strlen = $start + $len; //用$strlen存储字符串的总长度（从字符串的起始位置到字符串的总长度）
    for($i = 0; $i &lt; $strlen; $i ++) { //通过for循环语句,循环读取字符串
        if (ord ( substr ( $str, $i, 1 ) ) &gt; 0xa0) { //如果字符串中首个字节的ASCII序数值大于0xa0,则表示为汉字
            $tmpstr .= substr ( $str, $i, 2 ); //每次取出两位字符赋给变量$tmpstr，即等于一个汉字
            $i ++; //变量自加1
        } else { //如果不是汉字，则每次取出一位字符赋给变量$tmpstr
            $tmpstr .= substr ( $str, $i, 1 );
        }
    }
    return $tmpstr; //输出字符串
}
}

?&gt;</code></code></pre>
<pre><code><code>&lt;?php
class changecode{
    private $str;
    private $input;
    private $output;
    function __construct($input=&#39;&#39;,$output=&#39;gb2312&#39;){
        $this-&gt;input = $input;
        $this-&gt;output = $output;
    }
    protected function chgcode($str){
        if($this-&gt;input != &#39;&#39;){
            $this-&gt;str = iconv($input,$output,$str);
        }else{
            $this-&gt;str = mb_convert_encoding($str,$output);
        }
    }
    function getStr($str){
        $this-&gt;chgcode($str);
        return $this-&gt;str;
    }
    function setInput($input){
        $this-&gt;input = $input;
    }
    function setOutput($output){
        $this-&gt;output = $output;
    }
    function getInput(){
        return $this-&gt;input;
    }
    function getOutput(){
        return $this-&gt;output;
    }
}
?&gt;</code></code></pre>
<h2 id="结言">结言</h2>
<p>好了，欢迎在留言区留言，与大家分享你的经验和心得。</p>
<p>感谢你学习今天的内容，如果你觉得这篇文章对你有帮助的话，也欢迎把它分享给更多的朋友，感谢。</p>
<p>感谢！承蒙关照！您真诚的赞赏是我前进的最大动力！</p>
<p><img src="//upload-images.jianshu.io/upload_images/11158618-da750878d19e7fa1?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image" /></p>
<p><img src="//upload-images.jianshu.io/upload_images/11158618-826395d4148483a1?imageMogr2/auto-orient/strip" alt="image" /></p>


</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>