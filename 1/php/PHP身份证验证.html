<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修PHP身份证验证' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>PHP身份证验证</center></div><div class='banquan'>原文出处:本文由博客园博主郑筱筱提供。<br/>
原文连接:https://www.cnblogs.com/zhyphp/p/11387669.html</div><br>
    <pre><code><span style="color: #629755; font-style: italic;">/**<br /><span style="color: #629755; font-style: italic;"> * 身份证号码验证（真正要调用的方法）<br /><span style="color: #629755; font-style: italic;"> * <span style="color: #629755; font-weight: bold; font-style: italic;">@param <span style="color: #629755; font-style: italic;">$id_card   身份证号码<br /><span style="color: #629755; font-style: italic;"> */<br /><span style="color: #cc7832; font-weight: bold;">function <span style="color: #ffc66d;">validation_filter_id_card<span>(<span style="color: #9876aa;">$id_card<span>)<br /><span>{<br /><span>    <span style="color: #cc7832; font-weight: bold;">if <span>(strlen(<span style="color: #9876aa;">$id_card<span>) == <span style="color: #6897bb;">18<span>) {<br /><span>        <span style="color: #9876aa;">$idcard_base <span>= substr(<span style="color: #9876aa;">$id_card<span style="color: #cc7832;">, <span style="color: #6897bb;">0<span style="color: #cc7832;">, <span style="color: #6897bb;">17<span>)<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">        <span style="color: #cc7832; font-weight: bold;">if <span>(idcard_verify_number(<span style="color: #9876aa;">$idcard_base<span>) != strtoupper(substr(<span style="color: #9876aa;">$id_card<span style="color: #cc7832;">, <span style="color: #6897bb;">17<span style="color: #cc7832;">, <span style="color: #6897bb;">1<span>))) {<br /><span>            <span style="color: #cc7832; font-weight: bold;">return false<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">        <span>} <span style="color: #cc7832; font-weight: bold;">else <span>{<br /><span>            <span style="color: #cc7832; font-weight: bold;">return true<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">        <span>}<br /><span>    } <span style="color: #cc7832; font-weight: bold;">elseif <span>((strlen(<span style="color: #9876aa;">$id_card<span>) == <span style="color: #6897bb;">15<span>)) {<br /><span>        <span style="color: #808080;">// 如果身份证顺序码是996 997 998 999，这些是为百岁以上老人的特殊编码<br /><span style="color: #808080;">        <span style="color: #cc7832; font-weight: bold;">if <span>(array_search(substr(<span style="color: #9876aa;">$id_card<span style="color: #cc7832;">, <span style="color: #6897bb;">12<span style="color: #cc7832;">, <span style="color: #6897bb;">3<span>)<span style="color: #cc7832;">, <span style="color: #cc7832; font-weight: bold;">array<span>(<span style="color: #6a8759;">'996'<span style="color: #cc7832;">, <span style="color: #6a8759;">'997'<span style="color: #cc7832;">, <span style="color: #6a8759;">'998'<span style="color: #cc7832;">, <span style="color: #6a8759;">'999'<span>)) !== <span style="color: #cc7832; font-weight: bold;">false<span>) {<br /><span>            <span style="color: #9876aa;">$idcard <span>= substr(<span style="color: #9876aa;">$id_card<span style="color: #cc7832;">, <span style="color: #6897bb;">0<span style="color: #cc7832;">, <span style="color: #6897bb;">6<span>) . <span style="color: #6a8759;">'18' <span>. substr(<span style="color: #9876aa;">$id_card<span style="color: #cc7832;">, <span style="color: #6897bb;">6<span style="color: #cc7832;">, <span style="color: #6897bb;">9<span>)<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">        <span>} <span style="color: #cc7832; font-weight: bold;">else <span>{<br /><span>            <span style="color: #9876aa;">$idcard <span>= substr(<span style="color: #9876aa;">$id_card<span style="color: #cc7832;">, <span style="color: #6897bb;">0<span style="color: #cc7832;">, <span style="color: #6897bb;">6<span>) . <span style="color: #6a8759;">'19' <span>. substr(<span style="color: #9876aa;">$id_card<span style="color: #cc7832;">, <span style="color: #6897bb;">6<span style="color: #cc7832;">, <span style="color: #6897bb;">9<span>)<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">        <span>}<br /><span>        <span style="color: #9876aa;">$idcard <span>= <span style="color: #9876aa;">$idcard <span>. idcard_verify_number(<span style="color: #9876aa;">$idcard<span>)<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">        <span style="color: #cc7832; font-weight: bold;">if <span>(strlen(<span style="color: #9876aa;">$idcard<span>) != <span style="color: #6897bb;">18<span>) {<br /><span>            <span style="color: #cc7832; font-weight: bold;">return false<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">        <span>}<br /><span>        <span style="color: #9876aa;">$idcard_base <span>= substr(<span style="color: #9876aa;">$idcard<span style="color: #cc7832;">, <span style="color: #6897bb;">0<span style="color: #cc7832;">, <span style="color: #6897bb;">17<span>)<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">        <span style="color: #cc7832; font-weight: bold;">if <span>(idcard_verify_number(<span style="color: #9876aa;">$idcard_base<span>) != strtoupper(substr(<span style="color: #9876aa;">$idcard<span style="color: #cc7832;">, <span style="color: #6897bb;">17<span style="color: #cc7832;">, <span style="color: #6897bb;">1<span>))) {<br /><span>            <span style="color: #cc7832; font-weight: bold;">return false<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">        <span>} <span style="color: #cc7832; font-weight: bold;">else <span>{<br /><span>            <span style="color: #cc7832; font-weight: bold;">return true<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">        <span>}<br /><span>    } <span style="color: #cc7832; font-weight: bold;">else <span>{<br /><span>        <span style="color: #cc7832; font-weight: bold;">return false<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">    <span>}<br /><span>}<br /><span><br /><span><br /><span style="color: #629755; font-style: italic;">/**<br /><span style="color: #629755; font-style: italic;"> * 计算身份证校验码，根据国家标准GB 11643-1999<br /><span style="color: #629755; font-style: italic;"> * <span style="color: #629755; font-weight: bold; font-style: italic;">@param <span style="color: #629755; font-style: italic;">$idcard_base   身份证号码<br /><span style="color: #629755; font-style: italic;"> */<br /><span style="color: #cc7832; font-weight: bold;">function <span style="color: #ffc66d;">idcard_verify_number<span>(<span style="color: #9876aa;">$idcard_base<span>)<br /><span>{<br /><span>    <span style="color: #cc7832; font-weight: bold;">if <span>(strlen(<span style="color: #9876aa;">$idcard_base<span>) != <span style="color: #6897bb;">17<span>) {<br /><span>        <span style="color: #cc7832; font-weight: bold;">return false<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">    <span>}<br /><span>    <span style="color: #808080;">//加权因子<br /><span style="color: #808080;">    <span style="color: #9876aa;">$factor <span>= <span style="color: #cc7832; font-weight: bold;">array<span>(<span style="color: #6897bb;">7<span style="color: #cc7832;">, <span style="color: #6897bb;">9<span style="color: #cc7832;">, <span style="color: #6897bb;">10<span style="color: #cc7832;">, <span style="color: #6897bb;">5<span style="color: #cc7832;">, <span style="color: #6897bb;">8<span style="color: #cc7832;">, <span style="color: #6897bb;">4<span style="color: #cc7832;">, <span style="color: #6897bb;">2<span style="color: #cc7832;">, <span style="color: #6897bb;">1<span style="color: #cc7832;">, <span style="color: #6897bb;">6<span style="color: #cc7832;">, <span style="color: #6897bb;">3<span style="color: #cc7832;">, <span style="color: #6897bb;">7<span style="color: #cc7832;">, <span style="color: #6897bb;">9<span style="color: #cc7832;">, <span style="color: #6897bb;">10<span style="color: #cc7832;">, <span style="color: #6897bb;">5<span style="color: #cc7832;">, <span style="color: #6897bb;">8<span style="color: #cc7832;">, <span style="color: #6897bb;">4<span style="color: #cc7832;">, <span style="color: #6897bb;">2<span>)<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">    <span style="color: #808080;">//校验码对应值<br /><span style="color: #808080;">    <span style="color: #9876aa;">$verify_number_list <span>= <span style="color: #cc7832; font-weight: bold;">array<span>(<span style="color: #6a8759;">'1'<span style="color: #cc7832;">, <span style="color: #6a8759;">'0'<span style="color: #cc7832;">, <span style="color: #6a8759;">'X'<span style="color: #cc7832;">, <span style="color: #6a8759;">'9'<span style="color: #cc7832;">, <span style="color: #6a8759;">'8'<span style="color: #cc7832;">, <span style="color: #6a8759;">'7'<span style="color: #cc7832;">, <span style="color: #6a8759;">'6'<span style="color: #cc7832;">, <span style="color: #6a8759;">'5'<span style="color: #cc7832;">, <span style="color: #6a8759;">'4'<span style="color: #cc7832;">, <span style="color: #6a8759;">'3'<span style="color: #cc7832;">, <span style="color: #6a8759;">'2'<span>)<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">    <span style="color: #9876aa;">$checksum <span>= <span style="color: #6897bb;">0<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">    <span style="color: #cc7832; font-weight: bold;">for <span>(<span style="color: #9876aa;">$i <span>= <span style="color: #6897bb;">0<span style="color: #cc7832;">; <span style="color: #9876aa;">$i <span>&lt; strlen(<span style="color: #9876aa;">$idcard_base<span>)<span style="color: #cc7832;">; <span style="color: #9876aa;">$i<span>++) {<br /><span>        <span style="color: #9876aa;">$checksum <span>+= substr(<span style="color: #9876aa;">$idcard_base<span style="color: #cc7832;">, <span style="color: #9876aa;">$i<span style="color: #cc7832;">, <span style="color: #6897bb;">1<span>) * <span style="color: #9876aa;">$factor<span>[<span style="color: #9876aa;">$i<span>]<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">    <span>}<br /><span>    <span style="color: #9876aa;">$mod <span>= <span style="color: #9876aa;">$checksum <span>% <span style="color: #6897bb;">11<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">    <span style="color: #9876aa;">$verify_number <span>= <span style="color: #9876aa;">$verify_number_list<span>[<span style="color: #9876aa;">$mod<span>]<span style="color: #cc7832;">;<br /><span style="color: #cc7832;">    <span style="color: #cc7832; font-weight: bold;">return <span style="color: #9876aa;">$verify_number<span style="color: #cc7832;">;<br /><span>}<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>