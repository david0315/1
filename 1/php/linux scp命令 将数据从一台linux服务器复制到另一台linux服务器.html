<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修linux scp命令 将数据从一台linux服务器复制到另一台linux服务器' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>linux scp命令 将数据从一台linux服务器复制到另一台linux服务器</center></div><div class='banquan'>原文出处:本文由博客园博主子钦加油提供。<br/>
原文连接:https://www.cnblogs.com/zmdComeOn/p/11831909.html</div><br>
    <p>scp是secure&nbsp;copy的简写，用于在Linux下进行远程拷贝文件的命令，和它类似的命令有cp，不过cp只是在本机进行拷贝不能跨服务器，而且scp传输是加密的。可能会稍微影响一下速度。当你服务器硬盘变为只读&nbsp;read&nbsp;only&nbsp;system时，用scp可以帮你把文件移出来。另外，scp还非常不占资源，不会提高多少系统负荷，在这一点上，rsync就远远不及它了。虽然&nbsp;rsync比scp会快一点，但当小文件众多的情况下，rsync会导致硬盘I/O非常高，而scp基本不影响系统正常使用。</p>
<p>或者用sftp，winscp工具</p>
<p>1．命令格式：</p>
<p>scp&nbsp;[参数]&nbsp;[原路径]&nbsp;[目标路径]</p>
<p>2．命令功能：</p>
<p>scp是&nbsp;secure&nbsp;copy的缩写,&nbsp;scp是linux系统下基于ssh登陆进行安全的远程文件拷贝命令。linux的scp命令可以在linux服务器之间复制文件和目录。</p>
<p>3．命令参数：</p>
<p>-1&nbsp;&nbsp;强制scp命令使用协议ssh1&nbsp;&nbsp;</p>
<p>-2&nbsp;&nbsp;强制scp命令使用协议ssh2&nbsp;&nbsp;</p>
<p>-4&nbsp;&nbsp;强制scp命令只使用IPv4寻址&nbsp;&nbsp;</p>
<p>-6&nbsp;&nbsp;强制scp命令只使用IPv6寻址&nbsp;&nbsp;</p>
<p>-B&nbsp;&nbsp;使用批处理模式（传输过程中不询问传输口令或短语）&nbsp;&nbsp;</p>
<p>-C&nbsp;&nbsp;允许压缩。（将-C标志传递给ssh，从而打开压缩功能）&nbsp;&nbsp;</p>
<p>-p&nbsp;保留原文件的修改时间，访问时间和访问权限。&nbsp;&nbsp;</p>
<p>-q&nbsp;&nbsp;不显示传输进度条。&nbsp;&nbsp;</p>
<p>-r&nbsp;&nbsp;递归复制整个目录。&nbsp;&nbsp;</p>
<p>-v&nbsp;详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。&nbsp;&nbsp;&nbsp;</p>
<p>-c&nbsp;cipher&nbsp;&nbsp;以cipher将数据传输进行加密，这个选项将直接传递给ssh。&nbsp;&nbsp;&nbsp;</p>
<p>-F&nbsp;ssh_config&nbsp;&nbsp;指定一个替代的ssh配置文件，此参数直接传递给ssh。&nbsp;&nbsp;</p>
<p>-i&nbsp;identity_file&nbsp;&nbsp;从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>-l&nbsp;limit&nbsp;&nbsp;限定用户所能使用的带宽，以Kbit/s为单位。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>-o&nbsp;ssh_option&nbsp;&nbsp;如果习惯于使用ssh_config(5)中的参数传递方式，&nbsp;&nbsp;&nbsp;</p>
<p>-P&nbsp;port&nbsp;&nbsp;注意是大写的P,&nbsp;port是指定数据传输用到的端口号&nbsp;&nbsp;&nbsp;</p>
<p>-S&nbsp;program&nbsp;&nbsp;指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。</p>
<p>4．使用实例：</p>
<p>scp命令的实际应用概述：&nbsp;&nbsp;</p>
<p>从本地服务器复制到远程服务器：&nbsp;</p>
<p>(1)&nbsp;复制文件：&nbsp;&nbsp;</p>
<p>命令格式：&nbsp;&nbsp;</p>
<p>scp&nbsp;local_file&nbsp;remote_username@remote_ip:remote_folder&nbsp;&nbsp;</p>
<p>或者&nbsp;&nbsp;</p>
<p>scp&nbsp;local_file&nbsp;remote_username@remote_ip:remote_file&nbsp;&nbsp;</p>
<p>或者&nbsp;&nbsp;</p>
<p>scp&nbsp;local_file&nbsp;remote_ip:remote_folder&nbsp;&nbsp;</p>
<p>或者&nbsp;&nbsp;</p>
<p>scp&nbsp;local_file&nbsp;remote_ip:remote_file&nbsp;&nbsp;</p>
<p>第1,2个指定了用户名，命令执行后需要输入用户密码，第1个仅指定了远程的目录，文件名字不变，第2个指定了文件名&nbsp;&nbsp;</p>
<p>第3,4个没有指定用户名，命令执行后需要输入用户名和密码，第3个仅指定了远程的目录，文件名字不变，第4个指定了文件名&nbsp;&nbsp;&nbsp;</p>
<p>(2)&nbsp;复制目录：&nbsp;&nbsp;</p>
<p>命令格式：&nbsp;&nbsp;</p>
<p>scp&nbsp;-r&nbsp;local_folder&nbsp;remote_username@remote_ip:remote_folder&nbsp;&nbsp;</p>
<p>或者&nbsp;&nbsp;</p>
<p>scp&nbsp;-r&nbsp;local_folder&nbsp;remote_ip:remote_folder&nbsp;&nbsp;</p>
<p>第1个指定了用户名，命令执行后需要输入用户密码；&nbsp;&nbsp;</p>
<p>第2个没有指定用户名，命令执行后需要输入用户名和密码；</p>
<p>&nbsp;&nbsp;</p>
<p>从远程服务器复制到本地服务器：&nbsp;</p>
<p>从远程复制到本地的scp命令与上面的命令雷同，只要将从本地复制到远程的命令后面2个参数互换顺序就行了。</p>
<p>&nbsp;</p>
<p>实例1：从远处复制文件到本地目录</p>
<p>命令：</p>
<p>scp&nbsp;root@192.168.120.204:/opt/soft/nginx-0.5.38.tar.gz&nbsp;/opt/soft/</p>
<p><img class="has" src="./images/linux scp命令 将数据从一台linux服务器复制到另一台linux服务器0.jpg" alt="" width="727" height="65" /></p>
<p><img class="has" src="./images/linux scp命令 将数据从一台linux服务器复制到另一台linux服务器1.jpg" alt="" width="1003" height="50" /></p>
<p><span style="font-size: 16px;"><strong>如下是我的实例：这里我要用到递归 -r 还要用到-p&nbsp;保留原文件的修改时间，访问时间和访问权限</strong></span></p>
<p><span style="font-size: 16px;"><strong>登录目标服务器执行如下命令</strong></span></p>
<p><span style="font-size: 18pt; color: #ff0000;"><strong>命令：</strong></span></p>
<src class="cnblogs_Highlighter">
<pre><code>scp -r -p root@47.94.121.12:/data/wwwroot/zhongtian /data/wwwroot/
</code></pre>

<p>　<span style="color: #ff0000;">参数解读：-r 递归，-p保留原文件属性权限等，　root用户，47.94.121.12是原文件所在的服务器IP，/data/wwwroot/zhongtian 原文件所在的目录路径，/data/wwwroot/ 要复制到的目标服务器的目录路径（<span style="color: #000000;">也就是说把目录zhongtian复制到/data/wwwroot下面</span>）</span></p>
<p><span style="color: #ff0000;"><img src="./images/linux scp命令 将数据从一台linux服务器复制到另一台linux服务器2.jpg" alt="" /></span></p>
<p>&nbsp;</p>
<p><strong><span style="color: #ff0000;">注意：执行命令需要输入原服务器的<span style="color: #000000;">登录密码</span></span></strong></p>
<p><strong><span style="color: #ff0000;"><span style="color: #000000;">下图为原服务器的原文件所在目录</span></span></strong></p>
<p><strong><span style="color: #ff0000;"><span style="color: #000000;"><img src="./images/linux scp命令 将数据从一台linux服务器复制到另一台linux服务器3.jpg" alt="" /></span></span></strong></p>
<p>&nbsp;</p>
<p><strong><em><span style="color: #000000;">下图为xshell终端复制的过程中。。。。。。</span></em></strong></p>
<p><img src="./images/linux scp命令 将数据从一台linux服务器复制到另一台linux服务器4.jpg" alt="" /></p>
<p><strong><em>下图为复制过程结束</em></strong></p>
<p>&nbsp;<img src="./images/linux scp命令 将数据从一台linux服务器复制到另一台linux服务器5.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;<strong><em>下图为目标服务器目标文件</em></strong></p>
<p><img src="./images/linux scp命令 将数据从一台linux服务器复制到另一台linux服务器6.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>大功告成！！！</p>
<p>遇到问题的可以联系我哦</p>
<p>&nbsp;</p>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>