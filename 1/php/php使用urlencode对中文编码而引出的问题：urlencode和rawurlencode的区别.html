<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修php使用urlencode对中文编码而引出的问题：urlencode和rawurlencode的区别' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>php使用urlencode对中文编码而引出的问题：urlencode和rawurlencode的区别</center></div><div class='banquan'>原文出处:本文由博客园博主大佬要争气提供。<br/>
原文连接:https://www.cnblogs.com/yaozhengqi/p/10520611.html</div><br>
    <p>&nbsp;</p>
<p><strong>事件背景：</strong></p>
<p>之前做h5小游戏，需要后端输出用户的相关信息给前端，输出的内容有：用户id，用户昵称等字段，使用get方式传参。后端使用PHP语言对中文昵称进行格式化编码，使用的是常用的urlencode函数。</p>
<p>&nbsp;</p>
<p><strong>出现问题：</strong></p>
<p>使用urlencode这个函数进行格式化，urlencode函数会把空格编码为为：<strong>+</strong></p>
<p>&nbsp;</p>
<p>当然，前端在接收时可以解码后进行替换 + 为空格的方式处理。但是这样就多做了一步，很麻烦，有的时候我们的数据接口是开发给第三方或者其他使用的，他们在处理中不一定完全按照这样的思路来做。</p>
<p>比如前端是用Python接收，直接解码后显示，昵称就会有 + 号了。</p>
<p>&nbsp;</p>
<p><strong>解决方案：</strong></p>
<p>使用<strong><strong>rawurlencode</strong></strong></p>
<p>在PHP中，urlencode把空格编码为+号，rawurlencode把空格编码为%20</p>
<p><strong>&nbsp;</strong></p>
<p><strong>PHP Manual</strong><strong>对</strong><strong>两个函数的说明：</strong></p>
<p><strong>urlencode:</strong>&nbsp;返回字符串，返回字符串，此字符串中除了&nbsp;-_.&nbsp;之外的所有非字母数字字符都将被替换成百分号（%）后跟两位十六进制数，空格则编码为加号（+）。此编码与 WWW 表单 POST 数据的编码方式是一样的，同时与&nbsp;application/x-www-form-urlencoded&nbsp;的媒体类型编码方式一样。<strong>由于历史原因，此编码在将空格编码为加号（+）方面与 RFC1738 编码（参见&nbsp;rawurlencode()）不同。</strong></p>
<p><strong>&nbsp;</strong></p>
<p><strong>rawurlencode</strong><strong>：</strong>返回字符串，此字符串中除了&nbsp;-_.&nbsp;之外的所有非字母数字字符都将被替换成百分号（%）后跟两位十六进制数。这是在 RFC 1738 中描述的编码，是为了保护原义字符以免其被解释为特殊的 URL 定界符，同时保护 URL 格式以免其被传输媒体（像一些邮件系统）使用字符转换时弄乱。</p>
<p>&nbsp;</p>
<p><strong>所以，在使用PHP传中文编码时，用rawurlencode</strong></p>
<p><strong>&nbsp;</strong></p>
<p><strong>------------------------------------------------------------------------------</strong></p>
<src><img src="./images/php使用urlencode对中文编码而引出的问题：urlencode和rawurlencode的区别0.jpg" alt="" width="202" height="202" />
<src>欢迎关注公众号【phper的进阶之路】，将不断更新各种技术心得，免费提供各种学习资源！！！

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>