<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修【PHP开发规范】老生常谈的编码开发规范你懂多少？' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>【PHP开发规范】老生常谈的编码开发规范你懂多少？</center></div><div class='banquan'>原文出处:本文由博客园博主大佬要争气提供。<br/>
原文连接:https://www.cnblogs.com/yaozhengqi/p/10588183.html</div><br>
    <p>&nbsp;</p>
<h1 class="article-title">【PHP开发规范】老生常谈的编码开发规范你懂多少？</h1>
<p>&nbsp;</p>
<p>这几天看了一下阿里技术发布的一套Java开发规范《阿里巴巴Java开发手册》，里面写了阿里内部的Java开发规范标准，写的很好。这套Java统一规范标准将有助于提高行业编码规范化水平，帮助行业人员提高开发质量和效率、大大降低代码维护成本。</p>
<p>看完我去搜下了一些PHP的一些开发规范标准，其中了解到了PSR规范是PHP行业中常用的一套开发标准。感叹自己学得那么少，标准的规范这么晚才发现。</p>
<p>其实对于新手或者有几年经验的开发者来说，这些规范我们都要掌握的，很多时候我们做好这些规范，在协同开发中，能提高我们的开发质量和效率。</p>
<p>&nbsp;</p>
<h1>什么是PSR？</h1>
<p>PSR 是 PHP Standard Recommendations 的简写，由 PHP FIG 组织制定的 PHP 规范，是 PHP 开发的实践标准。</p>
<p>&nbsp;</p>
<p><img src="./images/【PHP开发规范】老生常谈的编码开发规范你懂多少？0.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>PHP FIG目前已表决通过了 6 套标准，已经得到大部分 PHP 框架的支持和认可。</p>
<p>其中已经通过的有：</p>
<ul>
<li>PSR-1 基础编码规范</li>
</ul>
<ul>
<li class="_mce_tagged_br">PSR-2 编码风格规范</li>
</ul>
<ul>
<li class="_mce_tagged_br">PSR-3 日志接口规范</li>
</ul>
<ul>
<li class="_mce_tagged_br">PSR-4 自动加载规范</li>
</ul>
<ul>
<li class="_mce_tagged_br">PSR-6 缓存接口规范</li>
</ul>
<ul>
<li class="_mce_tagged_br">PSR-7 HTTP 消息接口规范</li>
</ul>
<p>*注：其中PSR-0已被弃用，PSR-5还在起草中，以后再补充</p>
<hr />
<p>这里先介绍PSR-1 基础编码规范</p>
<h2>1. 概览</h2>
<ul>
<li>PHP代码文件&nbsp;必须&nbsp;以&nbsp;&lt;?php&nbsp;或&nbsp;&lt;?=&nbsp;标签开始；</li>
</ul>
<ul>
<li class="_mce_tagged_br">PHP代码文件&nbsp;必须&nbsp;以&nbsp;不带 BOM 的 UTF-8&nbsp;编码；</li>
</ul>
<ul>
<li class="_mce_tagged_br">PHP代码中&nbsp;应该&nbsp;只定义类、函数、常量等声明，或其他会产生&nbsp;副作用&nbsp;的操作（如：生成文件输出以及修改 .ini 配置文件等），二者只能选其一；</li>
</ul>
<ul>
<li class="_mce_tagged_br">命名空间以及类&nbsp;必须&nbsp;符合 PSR 的自动加载规范：[PSR-4]() 中的一个；</li>
</ul>
<ul>
<li class="_mce_tagged_br">类的命名&nbsp;必须&nbsp;遵循&nbsp;StudlyCaps&nbsp;大写开头的驼峰命名规范；</li>
</ul>
<ul>
<li class="_mce_tagged_br">类中的常量所有字母都&nbsp;必须&nbsp;大写，单词间用下划线分隔；</li>
</ul>
<ul>
<li class="_mce_tagged_br">方法名称&nbsp;必须&nbsp;符合&nbsp;camelCase&nbsp;式的小写开头驼峰命名规范。</li>
</ul>
<h2>2. 文件</h2>
<h3>2.1. PHP标签</h3>
<p>PHP代码&nbsp;必须&nbsp;使用&nbsp;&lt;?php ?&gt;&nbsp;长标签 或&nbsp;&lt;?= ?&gt;&nbsp;短输出标签；</p>
<p>一定不可&nbsp;使用其它自定义标签。</p>
<h3>2.2. 字符编码</h3>
<p>PHP代码&nbsp;必须&nbsp;且只可使用&nbsp;不带BOM的UTF-8&nbsp;编码。（这点很重要）</p>
<h3>2.3. 副作用</h3>
<p>一份 PHP 文件中&nbsp;应该&nbsp;要不就只定义新的声明，如类、函数或常量等不产生&nbsp;副作用&nbsp;的操作，要不就只书写会产生&nbsp;副作用&nbsp;的逻辑操作，但&nbsp;不该&nbsp;同时具有两者。</p>
<p>「副作用」(side effects) 一词的意思是，仅仅通过包含文件，不直接声明类、函数和常量等，而执行的逻辑操作。</p>
<p>「副作用」包含却不仅限于：</p>
<ul>
<li>生成输出</li>
</ul>
<ul>
<li class="_mce_tagged_br">直接的&nbsp;require&nbsp;或&nbsp;include</li>
</ul>
<ul>
<li class="_mce_tagged_br">连接外部服务</li>
</ul>
<ul>
<li class="_mce_tagged_br">修改 ini 配置</li>
</ul>
<ul>
<li class="_mce_tagged_br">抛出错误或异常</li>
</ul>
<ul>
<li class="_mce_tagged_br">修改全局或静态变量</li>
</ul>
<ul>
<li class="_mce_tagged_br">读或写文件等</li>
</ul>
<p>以下是一个&nbsp;反例，一份包含「函数声明」以及产生「副作用」的代码：</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 「副作用」：修改 ini 配置</span>
ini_set(<span style="color: #800000;">'</span><span style="color: #800000;">error_reporting</span><span style="color: #800000;">'</span><span style="color: #000000;">, E_ALL);
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 「副作用」：引入文件</span>
include <span style="color: #800000;">"</span><span style="color: #800000;">file.php</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 「副作用」：生成输出</span>
echo <span style="color: #800000;">"</span><span style="color: #800000;">&lt;html&gt;\n</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 声明函数</span>
<span style="color: #000000;">function foo()
{
   </span><span style="color: #008000;">//</span><span style="color: #008000;"> 函数主体部分</span>
}</code></pre>

<p>下面是一个范例，一份只包含声明不产生「副作用」的代码：</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 声明函数</span>
<span style="color: #0000ff;">function</span><span style="color: #000000;"> foo()
{
   </span><span style="color: #008000;">//</span><span style="color: #008000;"> 函数主体部分</span>
<span style="color: #000000;">}
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 条件声明 **不** 属于「副作用」</span>
<span style="color: #0000ff;">if</span> (! <span style="color: #008080;">function_exists</span>('bar'<span style="color: #000000;">)) {
   </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> bar()
   {
       </span><span style="color: #008000;">//</span><span style="color: #008000;"> 函数主体部分</span>
<span style="color: #000000;">   }
}</span></code></pre>

<h2>3. 命名空间和类</h2>
<p>命名空间以及类的命名必须遵循 [PSR-4]()。</p>
<p>根据规范，每个类都独立为一个文件，且命名空间至少有一个层次：顶级的组织名称（vendor name）。</p>
<p>类的命名&nbsp;必须&nbsp;遵循&nbsp;StudlyCaps&nbsp;大写开头的驼峰命名规范。</p>
<p>PHP 5.3 及以后版本的代码&nbsp;必须&nbsp;使用正式的命名空间。</p>
<p>例如：</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #008000;">//</span><span style="color: #008000;"> PHP 5.3及以后版本的写法</span>
<span style="color: #000000;">namespace Vendor\Model;
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> Foo
{
}</span></code></pre>

<p>5.2.x 及之前的版本&nbsp;应该&nbsp;使用伪命名空间的写法，约定俗成使用顶级的组织名称（vendor name）如&nbsp;Vendor_&nbsp;为类前缀。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 5.2.x及之前版本的写法</span>
<span style="color: #0000ff;">class</span><span style="color: #000000;"> Vendor_Model_Foo
{
}</span></code></pre>

<h2>4. 类的常量、属性和方法</h2>
<p>此处的「类」指代所有的类、接口以及可复用代码块（traits）。</p>
<h3>4.1. 常量</h3>
<p>类的常量中所有字母都&nbsp;必须&nbsp;大写，词间以下划线分隔。</p>
<p>参照以下代码：</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
namespace Vendor\Model;
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> Foo
{
   </span><span style="color: #0000ff;">const</span> VERSION = '1.0'<span style="color: #000000;">;
   </span><span style="color: #0000ff;">const</span> DATE_APPROVED = '2012-06-01'<span style="color: #000000;">;
}</span></code></pre>

<h3>4.2. 属性</h3>
<p>类的属性命名&nbsp;可以&nbsp;遵循：</p>
<ul>
<li>大写开头的驼峰式 ($StudlyCaps)</li>
</ul>
<ul>
<li class="_mce_tagged_br">小写开头的驼峰式 ($camelCase)</li>
</ul>
<ul>
<li class="_mce_tagged_br">下划线分隔式 ($under_score)</li>
</ul>
<p>本规范不做强制要求，但无论遵循哪种命名方式，都&nbsp;应该&nbsp;在一定的范围内保持一致。这个范围可以是整个团队、整个包、整个类或整个方法。</p>
<h3>4.3. 方法</h3>
<p>方法名称&nbsp;必须&nbsp;符合&nbsp;camelCase()&nbsp;式的小写开头驼峰命名规范。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;参考资料：</p>
<p>https://psr.phphub.org/</p>
<p><strong>&nbsp;</strong></p>
<p>&nbsp;</p>
<p><strong>------------------------------------------------------------------------------</strong></p>
<src><img src="./images/【PHP开发规范】老生常谈的编码开发规范你懂多少？1.jpg" alt="" width="202" height="202" />
<src>欢迎关注我的公众号【phper的进阶之路】，将不断更新各种技术心得，免费提供各种学习资源！！！
<p>&nbsp;</p>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>