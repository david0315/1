<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修【PHP开发规范】继承与扩展PSR-2 编码风格规范' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>【PHP开发规范】继承与扩展PSR-2 编码风格规范</center></div><div class='banquan'>原文出处:本文由博客园博主大佬要争气提供。<br/>
原文连接:https://www.cnblogs.com/yaozhengqi/p/10588222.html</div><br>
    <p>&nbsp;</p>
<p>之前的一篇文章是对PSR-1的基本介绍</p>
<p>接下来是PSR-2 编码风格规范，它是 PSR-1 基本代码规范的继承与扩展。</p>
<p>PSR-1 和PSR-2是PHP开发中基本的编码规范，大家其实都可以参考学习下，虽然说每个开发者都有自己熟悉的一套开发规范，但是我觉得还是根据行业标准来编写我们的代码，毕竟标准都是经过验证的了。希望能对PHP开发者有帮助吧。</p>
<p>&nbsp;</p>
<h2>1. 概览</h2>
<ul>
<li>代码&nbsp;必须&nbsp;遵循 [PSR-1]() 中的编码规范 。</li>
</ul>
<ul>
<li class="_mce_tagged_br">代码&nbsp;必须&nbsp;使用4个空格符而不是「Tab 键」进行缩进。</li>
</ul>
<ul>
<li class="_mce_tagged_br">每行的字符数&nbsp;应该&nbsp;软性保持在 80 个之内，理论上&nbsp;一定不可&nbsp;多于 120 个，但&nbsp;一定不可&nbsp;有硬性限制。</li>
</ul>
<ul>
<li class="_mce_tagged_br">每个 namespace 命名空间声明语句和 use 声明语句块后面，必须&nbsp;插入一个空白行。</li>
</ul>
<ul>
<li class="_mce_tagged_br">类的开始花括号（{）&nbsp;必须&nbsp;写在类声明后自成一行，结束花括号（}）也&nbsp;必须&nbsp;写在类主体后自成一行。</li>
</ul>
<ul>
<li class="_mce_tagged_br">方法的开始花括号（{）&nbsp;必须&nbsp;写在函数声明后自成一行，结束花括号（}）也&nbsp;必须&nbsp;写在函数主体后自成一行。</li>
</ul>
<ul>
<li class="_mce_tagged_br">类的属性和方法&nbsp;必须&nbsp;添加访问修饰符（private、protected 以及 public），abstract 以及 final&nbsp;必须&nbsp;声明在访问修饰符之前，而 static&nbsp;必须&nbsp;声明在访问修饰符之后。</li>
</ul>
<ul>
<li class="_mce_tagged_br">控制结构的关键字后&nbsp;必须&nbsp;要有一个空格符，而调用方法或函数时则&nbsp;一定不可&nbsp;有。</li>
</ul>
<ul>
<li class="_mce_tagged_br">控制结构的开始花括号（{）&nbsp;必须&nbsp;写在声明的同一行，而结束花括号（}）&nbsp;必须&nbsp;写在主体后自成一行。</li>
</ul>
<ul>
<li class="_mce_tagged_br">控制结构的开始左括号后和结束右括号前，都&nbsp;一定不可&nbsp;有空格符。</li>
</ul>
<h3>1.1. 例子</h3>
<p>以下例子程序简单地展示了以上大部分规范：</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
namespace Vendor\Package;
</span><span style="color: #0000ff;">use</span><span style="color: #000000;"> FooInterface;
</span><span style="color: #0000ff;">use</span> BarClass <span style="color: #0000ff;">as</span><span style="color: #000000;"> Bar;
</span><span style="color: #0000ff;">use</span><span style="color: #000000;"> OtherVendor\OtherPackage\BazClass;
</span><span style="color: #0000ff;">class</span> Foo <span style="color: #0000ff;">extends</span> Bar <span style="color: #0000ff;">implements</span><span style="color: #000000;"> FooInterface
{
 </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span> sampleFunction(<span style="color: #800080;">$a</span>, <span style="color: #800080;">$b</span> = <span style="color: #0000ff;">null</span><span style="color: #000000;">)
 {
 </span><span style="color: #0000ff;">if</span> (<span style="color: #800080;">$a</span> === <span style="color: #800080;">$b</span><span style="color: #000000;">) {
 bar();
 } </span><span style="color: #0000ff;">elseif</span> (<span style="color: #800080;">$a</span> &gt; <span style="color: #800080;">$b</span><span style="color: #000000;">) {
 </span><span style="color: #800080;">$foo</span>-&gt;bar(<span style="color: #800080;">$arg1</span><span style="color: #000000;">);
 } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
 BazClass</span>::bar(<span style="color: #800080;">$arg2</span>, <span style="color: #800080;">$arg3</span><span style="color: #000000;">);
 }
 }
 </span><span style="color: #0000ff;">final</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> bar()
 {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> 方法的内容</span>
<span style="color: #000000;"> }
}</span></code></pre>

<h2>2. 通则</h2>
<h3>2.1 基本编码准则</h3>
<p>代码 必须 符合 [PSR-1]() 中的所有规范。</p>
<h3>2.2 文件</h3>
<p>所有PHP文件 必须 使用 Unix LF (linefeed) 作为行的结束符。</p>
<p>所有PHP文件 必须 以一个空白行作为结束。</p>
<p>纯PHP代码文件 必须 省略最后的 ?&gt; 结束标签。</p>
<h3>2.3. 行</h3>
<p>行的长度 一定不可 有硬性的约束。</p>
<p>软性的长度约束 必须 要限制在 120 个字符以内，若超过此长度，带代码规范检查的编辑器 必须 要发出警告，不过 一定不可 发出错误提示。</p>
<p>每行 不该 多于80个字符，大于80字符的行 应该 折成多行。</p>
<p>非空行后 一定不可 有多余的空格符。</p>
<p>空行 可以 使得阅读代码更加方便以及有助于代码的分块。</p>
<p>每行 一定不可 存在多于一条语句。</p>
<h3>2.4. 缩进</h3>
<p>代码 必须 使用4个空格符的缩进，一定不可 用 tab键。</p>
<p>备注：使用空格而不是「tab键缩进」的好处在于，</p>
<p>避免在比较代码差异、打补丁、重阅代码以及注释时产生混淆。</p>
<p>并且，使用空格缩进，让对齐变得更方便。</p>
<h3>2.5. 关键字 以及 True/False/Null</h3>
<p>PHP所有 关键字 必须 全部小写。</p>
<p>常量 true 、false 和 null 也 必须 全部小写。</p>
<h2>3. namespace 以及 use 声明</h2>
<p>namespace 声明后 必须 插入一个空白行。</p>
<p>所有 use 必须 在 namespace 后声明。</p>
<p>每条 use 声明语句 必须 只有一个 use 关键词。</p>
<p>use 声明语句块后 必须 要有一个空白行。</p>
<p>例如：</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php

namespace Vendor\Package;
</span><span style="color: #0000ff;">use</span><span style="color: #000000;"> FooClass;
</span><span style="color: #0000ff;">use</span> BarClass <span style="color: #0000ff;">as</span><span style="color: #000000;"> Bar;
</span><span style="color: #0000ff;">use</span> OtherVendor\OtherPackage\BazClass;</code></pre>

<h2>4. 类、属性和方法</h2>
<p>此处的「类」泛指所有的「class类」、「接口」以及「traits 可复用代码块」。</p>
<h3>4.1. 扩展与继承</h3>
<p>关键词 extends 和 implements 必须 写在类名称的同一行。</p>
<p>类的开始花括号 必须 独占一行，结束花括号也 必须 在类主体后独占一行。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
namespace Vendor\Package;
</span><span style="color: #0000ff;">use</span><span style="color: #000000;"> FooClass;
</span><span style="color: #0000ff;">use</span> BarClass <span style="color: #0000ff;">as</span><span style="color: #000000;"> Bar;
</span><span style="color: #0000ff;">use</span><span style="color: #000000;"> OtherVendor\OtherPackage\BazClass;
</span><span style="color: #0000ff;">class</span> ClassName <span style="color: #0000ff;">extends</span> ParentClass <span style="color: #0000ff;">implements</span> \ArrayAccess,<span style="color: #000000;"> \Countable
{
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> 这里面是常量、属性、类方法</span>
}</code></pre>

<p>implements 的继承列表也 可以 分成多行，这样的话，每个继承接口名称都 必须 分开独立成行，包括第一个。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php

namespace Vendor\Package;
</span><span style="color: #0000ff;">use</span><span style="color: #000000;"> FooClass;
</span><span style="color: #0000ff;">use</span> BarClass <span style="color: #0000ff;">as</span><span style="color: #000000;"> Bar;
</span><span style="color: #0000ff;">use</span><span style="color: #000000;"> OtherVendor\OtherPackage\BazClass;
</span><span style="color: #0000ff;">class</span> ClassName <span style="color: #0000ff;">extends</span> ParentClass <span style="color: #0000ff;">implements</span><span style="color: #000000;">
 \ArrayAccess</span>,<span style="color: #000000;">
 \Countable</span>,<span style="color: #000000;">
 \Serializable
{
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> 这里面是常量、属性、类方法</span>
}</code></pre>

<h3>4.2. 属性</h3>
<p>每个属性都 必须 添加访问修饰符。</p>
<p>一定不可 使用关键字 var 声明一个属性。</p>
<p>每条语句 一定不可 定义超过一个属性。</p>
<p>不该 使用下划线作为前缀，来区分属性是 protected 或 private。</p>
<p>以下是属性声明的一个范例：</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
namespace Vendor\Package;
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> ClassName
{
 </span><span style="color: #0000ff;">public</span> <span style="color: #800080;">$foo</span> = <span style="color: #0000ff;">null</span><span style="color: #000000;">;
}</span></code></pre>

<h3>4.3. 方法</h3>
<p>所有方法都 必须 添加访问修饰符。</p>
<p>不该 使用下划线作为前缀，来区分方法是 protected 或 private。</p>
<p>方法名称后 一定不可 有空格符，其开始花括号 必须 独占一行，结束花括号也 必须 在方法主体后单独成一行。参数左括号后和右括号前 一定不可 有空格。</p>
<p>一个标准的方法声明可参照以下范例，留意其括号、逗号、空格以及花括号的位置。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
namespace Vendor\Package;
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> ClassName
{
 </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span> fooBarBaz(<span style="color: #800080;">$arg1</span>, &amp;<span style="color: #800080;">$arg2</span>, <span style="color: #800080;">$arg3</span> =<span style="color: #000000;"> [])
 {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> method body</span>
<span style="color: #000000;"> }
}</span></code></pre>

<h3>4.4. 方法的参数</h3>
<p>参数列表中，每个逗号后面 必须 要有一个空格，而逗号前面 一定不可 有空格。</p>
<p>有默认值的参数，必须 放到参数列表的末尾。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
namespace Vendor\Package;
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> ClassName
{
 </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span> foo(<span style="color: #800080;">$arg1</span>, &amp;<span style="color: #800080;">$arg2</span>, <span style="color: #800080;">$arg3</span> =<span style="color: #000000;"> [])
 {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> method body</span>
<span style="color: #000000;"> }
}</span></code></pre>

<p>参数列表 可以 分列成多行，这样，包括第一个参数在内的每个参数都 必须 单独成行。</p>
<p>拆分成多行的参数列表后，结束括号以及方法开始花括号 必须 写在同一行，中间用一个空格分隔。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
namespace Vendor\Package;
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> ClassName
{
 </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> aVeryLongMethodName(
 ClassTypeHint </span><span style="color: #800080;">$arg1</span>,
 &amp;<span style="color: #800080;">$arg2</span>,
 <span style="color: #0000ff;">array</span> <span style="color: #800080;">$arg3</span> =<span style="color: #000000;"> []
 ) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> 方法的内容</span>
<span style="color: #000000;"> }
}</span></code></pre>

<h3>4.5. abstract 、 final 、 以及 static</h3>
<p>需要添加 abstract 或 final 声明时，必须 写在访问修饰符前，而 static 则 必须 写在其后。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
namespace Vendor\Package;
</span><span style="color: #0000ff;">abstract</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> ClassName
{
 </span><span style="color: #0000ff;">protected</span> <span style="color: #0000ff;">static</span> <span style="color: #800080;">$foo</span><span style="color: #000000;">;
 </span><span style="color: #0000ff;">abstract</span> <span style="color: #0000ff;">protected</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> zim();
 </span><span style="color: #0000ff;">final</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> bar()
 {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> method body</span>
<span style="color: #000000;"> }
}</span></code></pre>

<h3>4.6. 方法及函数调用</h3>
<p>方法及函数调用时，方法名或函数名与参数左括号之间 一定不可 有空格，参数右括号前也 一定不可 有空格。每个参数前 一定不可 有空格，但其后 必须 有一个空格。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
bar();
</span><span style="color: #800080;">$foo</span>-&gt;bar(<span style="color: #800080;">$arg1</span><span style="color: #000000;">);
Foo</span>::bar(<span style="color: #800080;">$arg2</span>, <span style="color: #800080;">$arg3</span><span style="color: #000000;">);
参数 可以 分列成多行，此时包括第一个参数在内的每个参数都 必须 单独成行。
</span>&lt;?<span style="color: #000000;">php
</span><span style="color: #800080;">$foo</span>-&gt;<span style="color: #000000;">bar(
 </span><span style="color: #800080;">$longArgument</span>,
 <span style="color: #800080;">$longerArgument</span>,
 <span style="color: #800080;">$muchLongerArgument</span><span style="color: #000000;">
);</span></code></pre>

<h2>5. 控制结构</h2>
<p>控制结构的基本规范如下：</p>
<ul>
<li>控制结构关键词后&nbsp;必须&nbsp;有一个空格。</li>
</ul>
<ul>
<li class="_mce_tagged_br">左括号 ( 后&nbsp;一定不可&nbsp;有空格。</li>
</ul>
<ul>
<li class="_mce_tagged_br">右括号 ) 前也&nbsp;一定不可&nbsp;有空格。</li>
</ul>
<ul>
<li class="_mce_tagged_br">右括号 ) 与开始花括号 { 间&nbsp;必须&nbsp;有一个空格。</li>
</ul>
<ul>
<li class="_mce_tagged_br">结构体主体&nbsp;必须&nbsp;要有一次缩进。</li>
</ul>
<ul>
<li class="_mce_tagged_br">结束花括号 }&nbsp;必须&nbsp;在结构体主体后单独成行。</li>
</ul>
<p>每个结构体的主体都 必须 被包含在成对的花括号之中，</p>
<p>这能让结构体更加结构话，以及减少加入新行时，出错的可能性。</p>
<h3>5.1. if 、elseif 和 else</h3>
<p>标准的 if 结构如下代码所示，请留意「括号」、「空格」以及「花括号」的位置，</p>
<p>注意 else 和 elseif 都与前面的结束花括号在同一行。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #0000ff;">if</span> (<span style="color: #800080;">$expr1</span><span style="color: #000000;">) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> if body</span>
} <span style="color: #0000ff;">elseif</span> (<span style="color: #800080;">$expr2</span><span style="color: #000000;">) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> elseif body</span>
} <span style="color: #0000ff;">else</span><span style="color: #000000;"> {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> else body;</span>
}</code></pre>

<p>应该 使用关键词 elseif 代替所有 else if ，以使得所有的控制关键字都像是单独的一个词。</p>
<h3>5.2. switch 和 case</h3>
<p>标准的 switch 结构如下代码所示，留意括号、空格以及花括号的位置。</p>
<p>case 语句 必须 相对 switch 进行一次缩进，而 break 语句以及 case 内的其它语句都 必须 相对 case进行一次缩进。</p>
<p>如果存在非空的 case 直穿语句，主体里 必须 有类似 // no break 的注释。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #0000ff;">switch</span> (<span style="color: #800080;">$expr</span><span style="color: #000000;">) {
 </span><span style="color: #0000ff;">case</span> 0:
 <span style="color: #0000ff;">echo</span> 'First case, with a break'<span style="color: #000000;">;
 </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
 </span><span style="color: #0000ff;">case</span> 1:
 <span style="color: #0000ff;">echo</span> 'Second case, which falls through'<span style="color: #000000;">;
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> no break</span>
 <span style="color: #0000ff;">case</span> 2:
 <span style="color: #0000ff;">case</span> 3:
 <span style="color: #0000ff;">case</span> 4:
 <span style="color: #0000ff;">echo</span> 'Third case, return instead of break'<span style="color: #000000;">;
 </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;
 </span><span style="color: #0000ff;">default</span>:
 <span style="color: #0000ff;">echo</span> 'Default case'<span style="color: #000000;">;
 </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
}</span></code></pre>

<h3>5.3. while 和 do while</h3>
<p>一个规范的 while 语句应该如下所示，注意其「括号」、「空格」以及「花括号」的位置。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #0000ff;">while</span> (<span style="color: #800080;">$expr</span><span style="color: #000000;">) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> structure body</span>
}</code></pre>

<p>标准的 do while 语句如下所示，同样的，注意其「括号」、「空格」以及「花括号」的位置。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #0000ff;">do</span><span style="color: #000000;"> {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> structure body;</span>
} <span style="color: #0000ff;">while</span> (<span style="color: #800080;">$expr</span>);</code></pre>

<h3>5.4. for</h3>
<p>标准的 for 语句如下所示，注意其「括号」、「空格」以及「花括号」的位置。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #0000ff;">for</span> (<span style="color: #800080;">$i</span> = 0; <span style="color: #800080;">$i</span> &lt; 10; <span style="color: #800080;">$i</span>++<span style="color: #000000;">) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> for body</span>
}</code></pre>

<h3>5.5. foreach</h3>
<p>标准的 foreach 语句如下所示，注意其「括号」、「空格」以及「花括号」的位置。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #0000ff;">foreach</span> (<span style="color: #800080;">$iterable</span> <span style="color: #0000ff;">as</span> <span style="color: #800080;">$key</span> =&gt; <span style="color: #800080;">$value</span><span style="color: #000000;">) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> foreach body</span>
}</code></pre>

<h3>5.6. try, catch</h3>
<p>标准的 try catch 语句如下所示，注意其「括号」、「空格」以及「花括号」的位置。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #0000ff;">try</span><span style="color: #000000;"> {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> try body</span>
} <span style="color: #0000ff;">catch</span> (FirstExceptionType <span style="color: #800080;">$e</span><span style="color: #000000;">) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> catch body</span>
} <span style="color: #0000ff;">catch</span> (OtherExceptionType <span style="color: #800080;">$e</span><span style="color: #000000;">) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> catch body</span>
}</code></pre>

<h2>6. 闭包</h2>
<p>闭包声明时，关键词 function 后以及关键词 use 的前后都 必须 要有一个空格。</p>
<p>开始花括号 必须 写在声明的同一行，结束花括号 必须 紧跟主体结束的下一行。</p>
<p>参数列表和变量列表的左括号后以及右括号前，一定不可 有空格。</p>
<p>参数和变量列表中，逗号前 一定不可 有空格，而逗号后 必须 要有空格。</p>
<p>闭包中有默认值的参数 必须 放到列表的后面。</p>
<p>标准的闭包声明语句如下所示，注意其「括号」、「空格」以及「花括号」的位置。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #800080;">$closureWithArgs</span> = <span style="color: #0000ff;">function</span> (<span style="color: #800080;">$arg1</span>, <span style="color: #800080;">$arg2</span><span style="color: #000000;">) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> body</span>
<span style="color: #000000;">};
</span><span style="color: #800080;">$closureWithArgsAndVars</span> = <span style="color: #0000ff;">function</span> (<span style="color: #800080;">$arg1</span>, <span style="color: #800080;">$arg2</span>) <span style="color: #0000ff;">use</span> (<span style="color: #800080;">$var1</span>, <span style="color: #800080;">$var2</span><span style="color: #000000;">) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> body</span>
};</code></pre>

<p>参数列表以及变量列表 可以 分成多行，这样，包括第一个在内的每个参数或变量都 必须 单独成行，而列表的右括号与闭包的开始花括号 必须 放在同一行。</p>
<p>以下几个例子，包含了参数和变量列表被分成多行的多情况。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #800080;">$longArgs_noVars</span> = <span style="color: #0000ff;">function</span><span style="color: #000000;"> (
 </span><span style="color: #800080;">$longArgument</span>,
 <span style="color: #800080;">$longerArgument</span>,
 <span style="color: #800080;">$muchLongerArgument</span><span style="color: #000000;">
) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> body</span>
<span style="color: #000000;">};
</span><span style="color: #800080;">$noArgs_longVars</span> = <span style="color: #0000ff;">function</span> () <span style="color: #0000ff;">use</span><span style="color: #000000;"> (
 </span><span style="color: #800080;">$longVar1</span>,
 <span style="color: #800080;">$longerVar2</span>,
 <span style="color: #800080;">$muchLongerVar3</span><span style="color: #000000;">
) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> body</span>
<span style="color: #000000;">};
</span><span style="color: #800080;">$longArgs_longVars</span> = <span style="color: #0000ff;">function</span><span style="color: #000000;"> (
 </span><span style="color: #800080;">$longArgument</span>,
 <span style="color: #800080;">$longerArgument</span>,
 <span style="color: #800080;">$muchLongerArgument</span><span style="color: #000000;">
) </span><span style="color: #0000ff;">use</span><span style="color: #000000;"> (
 </span><span style="color: #800080;">$longVar1</span>,
 <span style="color: #800080;">$longerVar2</span>,
 <span style="color: #800080;">$muchLongerVar3</span><span style="color: #000000;">
) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> body</span>
<span style="color: #000000;">};
</span><span style="color: #800080;">$longArgs_shortVars</span> = <span style="color: #0000ff;">function</span><span style="color: #000000;"> (
 </span><span style="color: #800080;">$longArgument</span>,
 <span style="color: #800080;">$longerArgument</span>,
 <span style="color: #800080;">$muchLongerArgument</span><span style="color: #000000;">
) </span><span style="color: #0000ff;">use</span> (<span style="color: #800080;">$var1</span><span style="color: #000000;">) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> body</span>
<span style="color: #000000;">};
</span><span style="color: #800080;">$shortArgs_longVars</span> = <span style="color: #0000ff;">function</span> (<span style="color: #800080;">$arg</span>) <span style="color: #0000ff;">use</span><span style="color: #000000;"> (
 </span><span style="color: #800080;">$longVar1</span>,
 <span style="color: #800080;">$longerVar2</span>,
 <span style="color: #800080;">$muchLongerVar3</span><span style="color: #000000;">
) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> body</span>
};</code></pre>

<p>注意，闭包被直接用作函数或方法调用的参数时，以上规则仍然适用。</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #800080;">$foo</span>-&gt;<span style="color: #000000;">bar(
 </span><span style="color: #800080;">$arg1</span>,
 <span style="color: #0000ff;">function</span> (<span style="color: #800080;">$arg2</span>) <span style="color: #0000ff;">use</span> (<span style="color: #800080;">$var1</span><span style="color: #000000;">) {
 </span><span style="color: #008000;">//</span><span style="color: #008000;"> body</span>
 },
 <span style="color: #800080;">$arg3</span><span style="color: #000000;">
);</span></code></pre>

<p>&nbsp;</p>
<p>&nbsp;参考资料：</p>
<p>https://psr.phphub.org/</p>
<p><strong>&nbsp;</strong></p>
<p>&nbsp;</p>
<p><strong>------------------------------------------------------------------------------</strong></p>
<src><img src="./images/【PHP开发规范】继承与扩展PSR-2 编码风格规范0.jpg" alt="" width="202" height="202" />
<src>欢迎关注我的公众号【phper的进阶之路】，将不断更新各种技术心得，免费提供各种学习资源！！！
<p>&nbsp;</p>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>