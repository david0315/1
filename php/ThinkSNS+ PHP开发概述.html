<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修ThinkSNS+ PHP开发概述' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>ThinkSNS+ PHP开发概述</center></div><div class='banquan'>原文出处:本文由博客园博主ThinkSNS提供。<br/>
原文连接:https://www.cnblogs.com/thinkSNS/p/10998030.html</div><br>
    <p>Plus (读音：[plʌs]，全称：ThinkSNS+&nbsp;[&theta;ɪŋk es en es plʌs]，是&nbsp;ThinkSNS 系列产品一个重要版本，其软件识别名称为&nbsp;Plus&nbsp;即&nbsp;+) 是一个基于&nbsp;<a href="https://github.com/laravel/laravel" target="_blank">Latest Laravel</a>&nbsp;框架进行开发的一个功能强大、易于开发和强拓展的社交系统。与其他开源社交程序不同的是 Plus 拥有多年社交系统经验，不仅易于上手，还便于应用拓展。另一方面，程序采用 PHP 7 严格模式，从根本上尽量避免弱级错误的产生。同时因为从零开始选择较好的带有较好 ORM 的原因，Plus 允许你更具你的需求使用不同数据库。</p>
<p>如果你想深入学习&nbsp;Plus，我们为你准备了大量教程级文档。哪怕你不会 Laravel 框架，也能让你入门框架基础，并胜任 Plus 应用开发。</p>
<p>如果你是有经验的&nbsp;PHPer，那么你可以了解现代流行框架差异，Laravel 就是现代留下框架的佼佼者之一。</p>
<h2><a href="http://www.thinksns.com/reader/255.html#php-%E7%8E%AF%E5%A2%83%E8%A6%81%E6%B1%82" target="_blank">#</a>PHP 环境要求</h2>
<p>重点</p>
<p>你可能还没有很好的&nbsp;Liunx 知识，没关系，后面的教程会拟定你是零基础的前提下教学，但是下面的环境要求限制，你需要重点记忆，这是程序能否运行的关键所在！</p>
<h3><a href="http://www.thinksns.com/reader/255.html#php-%E7%89%88%E6%9C%AC" target="_blank">#</a>PHP 版本</h3>
<p>您的&nbsp;PHP 必须大于或者等于&nbsp;7.1.3&nbsp;版本，当然，我们推荐&nbsp;7.2.&nbsp;版本。</p>
<h3><a href="http://www.thinksns.com/reader/255.html#%E5%87%BD%E6%95%B0" target="_blank">#</a>函数</h3>
<p>在许多集成环境中，默认会禁用一些函数，当然，这些函数在&nbsp;Plus 的 Web 服务中不是必须的，但是如果你在&nbsp;CLI&nbsp;环境下操作，这些函数将会成为必须：</p>
<p>&middot;&nbsp;exec</p>
<p>&middot;&nbsp;system</p>
<p>&middot;&nbsp;scandir</p>
<p>&middot;&nbsp;symlink</p>
<p>&middot;&nbsp;shell_exec</p>
<p>&middot;&nbsp;proc_open</p>
<p>&middot;&nbsp;proc_get_status</p>
<h3><a href="http://www.thinksns.com/reader/255.html#%E6%8B%93%E5%B1%95" target="_blank">#</a>拓展</h3>
<p>这些拓展是&nbsp;Plus 运行时必须的拓展，你必须包装你的 PHP 环境已安装这些拓展：</p>
<p>&middot;&nbsp;dom&nbsp;用于解析 XML 等文档使用</p>
<p>&middot;&nbsp;fileinfo&nbsp;用于文件上传，或者获取文件 Meta 信息使用</p>
<p>&middot;&nbsp;GD&nbsp;用于图片处理的库</p>
<p>&middot;&nbsp;json&nbsp;一般 PHP 内核自带，用于处理 JSON 文档和转换</p>
<p>&middot;&nbsp;mbstring&nbsp;用于兼容性的字符串处理</p>
<p>&middot;&nbsp;openssl&nbsp;用于应用秘钥加密等，同时也是内部请求 HTTPS 资源使用</p>
<p>&middot;&nbsp;PDO&nbsp;数据库操作抽象库</p>
<h4><a href="http://www.thinksns.com/reader/255.html#%E9%80%89%E6%8B%A9%E6%80%A7%E6%8B%93%E5%B1%95" target="_blank">#</a>选择性拓展</h4>
<p>选择性拓展是更具你的需求，选择性安装的拓展，选择性拓展如下：</p>
<p>&middot;&nbsp;pdo_mysql&nbsp;如果你使用 MySQL 数据库，则必须安装</p>
<p>&middot;&nbsp;pdo_pgsql&nbsp;如果你使用 PostgreSQL 数据库，则必须安装</p>
<p>&middot;&nbsp;pdo_sqlite&nbsp;如果你使用 SQLite 数据库，则必须安装</p>
<p>&middot;&nbsp;pdo_dblib&nbsp;如果你使用 Microsoft SQL Server 数据库，则必须安装</p>
<h4><a href="http://www.thinksns.com/reader/255.html#%E5%8F%AF%E9%80%89%E6%88%96%E6%9B%BF%E6%8D%A2%E6%80%A7%E6%8B%93%E5%B1%95" target="_blank">#</a>可选或替换性拓展</h4>
<p>&middot;&nbsp;imagick&nbsp;此库是一个比 GD 库处理图片更好的一个拓展，可以用于替换 GD 库，此库为可选性，安装后不可卸载 GD 库，GD 库可以用于更加高效的图片基础处理。</p>
<h2><a href="http://www.thinksns.com/reader/255.html#%E6%95%B0%E6%8D%AE%E5%BA%93" target="_blank">#</a>数据库</h2>
<p>Plus 支持四种数据库的使用，但是我仅推荐使用两个数据库。</p>
<p>&middot;&nbsp;MySQL&nbsp;|&nbsp;MariaDB</p>
<p>o&nbsp;MySQL&nbsp;请使用&nbsp;&gt;= 5.7&nbsp;版本，当然，如果能用 MySQL 8 再好不过。</p>
<p>o&nbsp;MariaDB&nbsp;是 MySQL 原作者后开发的一款关系型数据库，兼容 MySQL，如果你要使用，请选择大于或等于&nbsp;10.3&nbsp;版本。</p>
<p>&middot;&nbsp;PostgreSQL&nbsp;数据库是及其推荐的一个数据库，费用高昂但是起计算性能非常好，有条件可以直接使用。</p>
<p>&middot;&nbsp;SQLite&nbsp;是一个轻量级数据库，如果你只是想体验倒是不妨尝试，问题在于 SQLite 对于 Emoji 的储存有待改善（目前都不支持存储 Emoji）所以原则上 Plus 是不允许使用 SQLite 的。</p>
<p>&middot;&nbsp;Microsoft SQL Server&nbsp;就像不推荐 SQLite 一样，我们同样不推荐 Microsoft SQL Server 除非你确定你的系统不适用 Emoji 那么你可以无顾虑的使用 Microsoft SQL Server 了，因为 Microsoft SQL Server 同样支持 utf8 字符集，却无法支持四位长度的 Emoji 字符。</p>
<p>WARNING</p>
<p>答应我，在&nbsp;SQLite 和 Microsoft SQL Server 没有很好默认支持 Emoji 之前，暂时用 MySQL 或者 PostgreSQL 好吗？我是认真的！不然你会遇到很多奇怪的问题！</p>
<h2><a href="http://www.thinksns.com/reader/255.html#%E6%95%99%E7%A8%8B%E8%AF%B4%E6%98%8E" target="_blank">#</a>教程说明</h2>
<p>从后面的教程开始，我们将从零基础开始教学，教学环境为&nbsp;CentOS&nbsp;7.4&nbsp;版本的 Linux。教学环境如下：</p>
<p>&middot;&nbsp;教学使用服务器系统:&nbsp;CentOS&nbsp;7.4</p>
<p>&middot;&nbsp;教学者使用系统:&nbsp;macOS</p>
<p>&middot;&nbsp;SSH 工具:&nbsp;<a href="https://itunes.apple.com/cn/app/id549039908/" target="_blank">Termius</a></p>
<p>&middot;&nbsp;教学&nbsp;<a href="http://php.net/" target="_blank">PHP</a>&nbsp;版本：7.2</p>
<p>&middot;&nbsp;教学&nbsp;<a href="https://www.mysql.com/" target="_blank">MySQL</a>&nbsp;版本：&nbsp;5.7</p>
<p>&middot;&nbsp;教学&nbsp;Web 组件：<a href="http://nginx.org/" target="_blank">Nginx</a></p>
<p>教学内容包括：</p>
<p>&middot;&nbsp;登入&nbsp;Linux</p>
<p>&middot;&nbsp;安装&nbsp;PHP 7.2</p>
<p>&middot;&nbsp;安装&nbsp;MySQL 5.7</p>
<p>&middot;&nbsp;安装&nbsp;Plus</p>
<p>&middot;&nbsp;Nginx 安装</p>
<p>&middot;&nbsp;发布站点</p>
<h2><a href="http://www.thinksns.com/reader/255.html#%E7%99%BB%E5%85%A5-linux" target="_blank">#</a>登入&nbsp;Linux</h2>
<p>这里虚拟一台主机，其&nbsp;IP 地址我们假设为&nbsp;hostname（正常情况下是一段&nbsp;IP 地址），端口为&nbsp;22，操作用户为&nbsp;root。</p>
<p>在你的&nbsp;SSH 工具中输入&nbsp;ssh root@hostname -p 22&nbsp;然后回车。然后输入你的主机密码即可。</p>
<p>hostname&nbsp;等信息登录的时候替换为你的真实信息。</p>
<p>我们进入主机后，会进入用户家目录，如果你不知道家目录在说明为主，输入&nbsp;pwd&nbsp;命令即可看到。</p>
<h2><a href="http://www.thinksns.com/reader/255.html#%E7%BC%96%E8%AF%91-php" target="_blank">#</a>编译&nbsp;PHP</h2>
<p>本章将会带领你在&nbsp;CentOS&nbsp;7.4&nbsp;系统上编译安装&nbsp;PHP&nbsp;7.2&nbsp;环境，以及缺少的拓展安装。</p>
<h2><a href="http://www.thinksns.com/reader/255.html#%E4%B8%8B%E8%BD%BD%E6%BA%90%E7%A0%81" target="_blank">#</a>下载源码</h2>
<p>我们打开<a href="http://www.php.net/downloads.php" target="_blank">PHP 官网下载页</a>找到最新的&nbsp;PHP 7.2 版本，以 7.2.9 为例：</p>
<p><img title="图片1.png" src="http://www.thinksns.com/data/upload/ueditor/20180913/5b9a25fb30b5e.png" alt="图片1.png" /></p>
<p>我们点击绿色框部分的的地址，最后我们通过选择地区后得到最终地址为：http://cn2.php.net/distributions/php-7.2.9.tar.xz</p>
<p>我们得到文件下载地址后，登入&nbsp;Linux，我们现在在服务器下载 PHP 源码，下载我们使用&nbsp;curl&nbsp;命令下载，检查你的服务器是否有这个命令输入&nbsp;curl --help&nbsp;如果有很大一串内容输出，则表示有该命令，如果输出内容为：</p>
<p>-bash: curl: command not found</p>
<p>1</p>
<p>那么，我们使用&nbsp;CentOS 自带的&nbsp;yum&nbsp;命令进行安装：</p>
<p>yum&nbsp;install&nbsp;-y&nbsp;curl</p>
<p>1</p>
<p>等待命令执行完成即可，执行完成后，我们下载&nbsp;PHP 源码：</p>
<p>curl&nbsp;-o php-7.2.9.tar.xz http://cn2.php.net/distributions/php-7.2.9.tar.xz</p>
<p>1</p>
<p>WARNING</p>
<p>如果你无法找到准确的文件下载地址，那么你点击绿色框的链接，会进入地区选择页面，例如你选择&nbsp;China&nbsp;地区，你会看到一个&nbsp;cn2.php.net&nbsp;的链接，鼠标放上去，「右键」点击「复制链接地址」你粘贴后会得到&nbsp;http://cn2.php.net/get/php-7.2.9.tar.xz/from/this/mirror&nbsp;这样的地址，如图：</p>
<p><img title="图片2.png" src="http://www.thinksns.com/data/upload/ueditor/20180913/5b9a2602a6426.png" alt="图片2.png" /></p>
<p>复制得到地址后，我们运行下面的命令进行下载：</p>
<p>curl&nbsp;-L -o php-7.2.9.tar.xz http://cn2.php.net/get/php-7.2.9.tar.xz/from/this/mirror</p>
<p>1</p>
<h2><a href="http://www.thinksns.com/reader/255.html#%E8%A7%A3%E5%8E%8B%E6%BA%90%E7%A0%81" target="_blank">#</a>解压源码</h2>
<p>解压源码之前，请先下载解压工具：</p>
<p>yum&nbsp;install&nbsp;-y&nbsp;tar&nbsp;xz</p>
<p>1</p>
<p>然后我们先将&nbsp;XZ 归档解压为 tar 归档：</p>
<p>xz -d php-7.2.9.tar.xz</p>
<p>1</p>
<p>执行完成后，我们输入&nbsp;ls&nbsp;命令，你会看到现在&nbsp;php-7.2.9.tar.xz&nbsp;文件已经消失，而多出一个&nbsp;php-7.2.9.tar&nbsp;归档。此时我们来解压这个 tar 归档：</p>
<p>tar&nbsp;-xvf php-7.2.9.tar</p>
<p>1</p>
<p>解压完成后，运行&nbsp;ls&nbsp;命令会看到，多出一个&nbsp;php-7.2.9&nbsp;的目录了，好了我们现在就得到了源码。</p>
<p>如果你解压步骤失败，可能是下载的文件不是&nbsp;.tar.xz&nbsp;后缀归档，也有可能是下载过程中数据丢包，不用担心。你重新下运行&nbsp;rm -rf php-7.2.9*&nbsp;命令，将你之前下载的删除，然后重新下载即可。</p>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>