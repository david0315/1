<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修php中static关键字的理解' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>php中static关键字的理解</center></div><div class='banquan'>原文出处:本文由博客园博主.Ronin提供。<br/>
原文连接:https://www.cnblogs.com/heyue0117/p/11869648.html</div><br>
    <p>&nbsp;</p>
<p><strong style="margin: 0px; padding: 0px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">函数内的static变量</strong></p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">&nbsp;</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;"><strong style="margin: 0px; padding: 0px;">static静态变量的理解</strong></p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">静态变量 类型说明符是static。</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">静态变量属于静态存储方式，其存储空间为内存中的静态数据区（在 静态存储区内分配存储单元），该区域中的数据在整个程序的运行期间一直占用这些存储空间（在程序整个运行期间都不释放），也可以认为是其内存地址不变，直 到整个程序运行结束（相反，而auto自动变量，即动态局部变量，属于动态存储类别，占动态存储空间，函数调用结束后即释放）。静态变量虽在程序的整个执行过程中始终存在，但是在它作用域之外不能使用。</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">另外，属于静态存储方式的量不一定就是静态变量。 例如：外部变量虽属于静态存储方式，但不一定是静态变量，必须由 static加以定义后才能成为静态外部变量，或称静态全局变量。</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">所有的全局变量都是静态变量，而局部变量只有定义时加上类型修饰符static，才为局部静态变量。</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">静态变量可以在任何可以申请的地方申请，一旦申请成功后，它将不再接受其他的同样申请。</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">静态变量并不是说其就不能改变值，不能改变值的量叫常量。 其拥有的值是可变的 ，而且它会保持最新的值。说其静态，是因为它不会随着函数的调用和退出而发生变化。即上次调用函数的时候，如果我们给静态变量赋予某个值的话，下次函数调用时，这个值保持不变。</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;"><strong style="margin: 0px; padding: 0px;">函数内静态变量</strong></p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;"><strong style="margin: 0px; padding: 0px;">static usage</strong></p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">1,请看下面这个例子：</p>
<p class="line number1 index0 alt2"><code class="php keyword">function</code> <code class="php plain">doStuff(&amp;</code><code class="php variable">$cache</code><code class="php plain">) {</code></p>
<p class="line number2 index1 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">static</code> <code class="php variable">$cache</code> <code class="php plain">= null;</code></p>
<p class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$cache</code> <code class="php plain">=== null) {</code></p>
<p class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php variable">$cache</code> <code class="php plain">= </code><code class="php string">'%heavy database stuff or something%'</code><code class="php plain">;</code></p>
<p class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></p>
<p class="line number6 index5 alt1"><code class="php plain">}</code></p>
<p class="line number7 index6 alt2"><code class="php variable">$cache</code> <code class="php plain">= </code><code class="php string">'not null'</code><code class="php plain">;</code></p>
<p class="line number8 index7 alt1"><code class="php plain">doStuff(</code><code class="php variable">$cache</code><code class="php plain">);</code></p>
<p class="line number9 index8 alt2"><code class="php comments">// Output</code></p>
<p class="line number10 index9 alt1"><code class="php plain">%heavy database stuff </code><code class="php keyword">or</code> <code class="php plain">something%</code></p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;"><br />而且，在doStuff()函数中，静态变量$cache并不是不可改变的，$cache从null变成了%heavy database stuff or something%;从上面的例子可以看出，static关键字影响了引用传递，即使我们使用了&amp;来试图改变变量$cache的值和地址，仍然不影响doStuff()函数中的if判断；</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;"><strong style="margin: 0px; padding: 0px;">类中的静态方法和属性</strong></p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">● 我们把类当成生成对象的模板，把对象作为活动组件，实例化一个类，得到一个对象，然后访问这个对象的方法和属性。</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">例如 $foo = new Foo(); $foo就是类Foo实例化后的对象。</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">● 静态方法是以类作为作用域的函数，我们可以不经实例化，直接访问静态方法.</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">例如:</p>
<p class="line number1 index0 alt2"><code class="php keyword">class</code> <code class="php plain">Foo()</code></p>
<p class="line number2 index1 alt1"><code class="php plain">{</code></p>
<p class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php plain">a(){}</code></p>
<p class="line number4 index3 alt1"><code class="php plain">}</code></p>
<p class="line number5 index4 alt2"><code class="php comments">// 访问a();</code></p>
<p class="line number6 index5 alt1"><code class="php plain">Foo::a();</code></p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;"><br />● 在当前类(非子类)中访问静态方法或属性使用self::method()，note: self可以调用父类的静态方法和属性;● 静态方法不能访问这个类中的普通属性和方法，因为那些属性和方法属于一个对象，而静态方法和属性又称为类变量的方法。</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;"><strong style="margin: 0px; padding: 0px;">延迟静态绑定</strong></p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">先看个例子</p>
<p class="line number1 index0 alt2"><code class="php plain">header(</code><code class="php string">"Content-type: text/html; charset=utf-8"</code><code class="php plain">);</code></p>
<p class="line number2 index1 alt1"><code class="php keyword">class</code> <code class="php plain">A </code></p>
<p class="line number3 index2 alt2"><code class="php plain">{</code></p>
<p class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php plain">aa()</code></p>
<p class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></p>
<p class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php string">"非延迟静态绑定&lt;br&gt;"</code><code class="php plain">;</code></p>
<p class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></p>
<p class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</p>
<p class="line number9 index8 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php plain">bb()</code></p>
<p class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></p>
<p class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php plain">self::aa();&nbsp; </code><code class="php comments">// Output 非延迟静态绑定</code></p>
<p class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php keyword">static</code><code class="php plain">::aa(); </code><code class="php comments">// Output 延迟静态绑定</code></p>
<p class="line number13 index12 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></p>
<p class="line number14 index13 alt1"><code class="php plain">}</code></p>
<p class="line number15 index14 alt2"><code class="php keyword">class</code> <code class="php plain">B </code><code class="php keyword">extends</code> <code class="php plain">A</code></p>
<p class="line number16 index15 alt1"><code class="php plain">{</code></p>
<p class="line number17 index16 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php plain">aa()</code></p>
<p class="line number18 index17 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></p>
<p class="line number19 index18 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php string">"延迟静态绑定"</code><code class="php plain">;</code></p>
<p class="line number20 index19 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></p>
<p class="line number21 index20 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</p>
<p class="line number22 index21 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php plain">cc()</code></p>
<p class="line number23 index22 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></p>
<p class="line number24 index23 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php plain">self::bb();</code></p>
<p class="line number25 index24 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></p>
<p class="line number26 index25 alt1"><code class="php plain">}</code></p>
<p class="line number27 index26 alt2"><code class="php plain">B::bb();</code></p>
<p class="line number28 index27 alt1"><code class="php comments">// Output</code></p>
<p class="line number29 index28 alt2"><code class="php plain">非延迟静态绑定</code></p>
<p class="line number30 index29 alt1"><code class="php plain">延迟静态绑定</code></p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;"><br />php5.3之后，我们可以使用static来获取子类的aa()方法，它指的的被调用的类。使用self关键字，指是当前类(A)，因此获取的也就是类A的aa()方法的返回值；</p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;"><strong style="margin: 0px; padding: 0px;">总结：</strong></p>
<p style="margin: 15px 0px; padding: 0px 0px 0px 10px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); color: #3d464d; font-size: 16px; box-sizing: border-box; border-radius: 8px; font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 微软雅黑, Tahoma, Arial, sans-serif;">static关键字的延迟绑定有很多用途，一般在项目中可边做边总结。</p>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>