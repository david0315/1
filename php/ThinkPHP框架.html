<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修ThinkPHP框架' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>ThinkPHP框架</center></div><div class='banquan'>原文出处:本文由博客园博主行走的阳光提供。<br/>
原文连接:https://www.cnblogs.com/shineguang/p/11140920.html</div><br>
    <p><span style="font-size: 18px;"><strong>1.TP框架基础</strong></span></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="font-size: 18px;"><strong>1.1目录结构</strong></span></p>
<src class="cnblogs_code">
<pre><code>1.<span style="color: #000000;">project  应用部署目录
 </span>2.<span style="color: #000000;">├─application           应用目录（可设置）
 </span>3.<span style="color: #000000;">│  ├─common             公共模块目录（可更改）
 </span>4.<span style="color: #000000;">│  ├─index              模块目录(可更改)
 </span>5.│  │  ├─config.<span style="color: #000000;">php      模块配置文件
 </span>6.│  │  ├─common.<span style="color: #000000;">php      模块函数文件
 </span>7.<span style="color: #000000;">│  │  ├─controller      控制器目录
 </span>8.<span style="color: #000000;">│  │  ├─model           模型目录
 </span>9.<span style="color: #000000;">│  │  ├─view            视图目录
</span>10.│  │  └─ ...<span style="color: #000000;">            更多类库目录
</span>11.│  ├─command.<span style="color: #000000;">php        命令行工具配置文件
</span>12.│  ├─common.<span style="color: #000000;">php         应用公共（函数）文件
</span>13.│  ├─config.<span style="color: #000000;">php         应用（公共）配置文件
</span>14.│  ├─database.<span style="color: #000000;">php       数据库配置文件
</span>15.│  ├─tags.<span style="color: #000000;">php           应用行为扩展定义文件
</span>16.│  └─route.<span style="color: #000000;">php          路由配置文件
</span>17.<span style="color: #000000;">├─extend                扩展类库目录（可定义）
</span>18.├─<span style="color: #0000ff;">public</span><span style="color: #000000;">                WEB 部署目录（对外访问目录）
</span>19.│  ├─<span style="color: #0000ff;">static</span>             静态资源存放目录(css,js,<span style="color: #000000;">image)
</span>20.│  ├─index.<span style="color: #000000;">php          应用入口文件
</span>21.│  ├─router.<span style="color: #000000;">php         快速测试文件
</span>22.│  └─.<span style="color: #000000;">htaccess          用于 apache 的重写
</span>23.<span style="color: #000000;">├─runtime               应用的运行时目录（可写，可设置）
</span>24.<span style="color: #000000;">├─vendor                第三方类库目录（Composer）
</span>25.<span style="color: #000000;">├─thinkphp              框架系统目录
</span>26.<span style="color: #000000;">│  ├─lang               语言包目录
</span>27.<span style="color: #000000;">│  ├─library            框架核心类库目录
</span>28.<span style="color: #000000;">│  │  ├─think           Think 类库包目录
</span>29.<span style="color: #000000;">│  │  └─traits          系统 Traits 目录
</span>30.<span style="color: #000000;">│  ├─tpl                系统模板目录
</span>31.│  ├─.<span style="color: #000000;">htaccess          用于 apache 的重写
</span>32.│  ├─.travis.<span style="color: #000000;">yml        CI 定义文件
</span>33.│  ├─base.<span style="color: #000000;">php           基础定义文件
</span>34.│  ├─composer.<span style="color: #000000;">json      composer 定义文件
</span>35.│  ├─console.<span style="color: #000000;">php        控制台入口文件
</span>36.│  ├─convention.<span style="color: #000000;">php     惯例配置文件
</span>37.│  ├─helper.<span style="color: #000000;">php         助手函数文件（可选）
</span>38.│  ├─LICENSE.<span style="color: #000000;">txt        授权说明文件
</span>39.│  ├─phpunit.<span style="color: #000000;">xml        单元测试配置文件
</span>40.│  ├─README.<span style="color: #000000;">md          README 文件
</span>41.│  └─start.<span style="color: #000000;">php          框架引导文件
</span>42.├─build.<span style="color: #000000;">php             自动生成定义文件（参考）
</span>43.├─composer.<span style="color: #000000;">json         composer 定义文件
</span>44.├─LICENSE.<span style="color: #000000;">txt           授权说明文件
</span>45.├─README.<span style="color: #000000;">md             README 文件
</span>46.├─think                 命令行入口文件</code></pre>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 18px;"><strong>1.2配置文件</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.框架主配置文件（惯例配置文件） thinkphp/convention.php</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.&nbsp;&nbsp;应用公共配置文件 application/config.php， application/database.php 对整个应用生效</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.模块配置文件 application/模块目录/config.php 对当前模块生效</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.3</strong></span><span style="font-size: 18px;"><strong><span class="md-expand">函数文件</span></strong></span></p>
<p><span style="font-size: 18px;"><strong><span class="md-expand">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.框架助手函数文件 thinkphp/helper.php</span></strong></span></p>
<p><span style="font-size: 18px;"><strong><span class="md-expand">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.应用公共函数文件 application/common.php</span></strong></span></p>
<p><span style="font-size: 18px;"><strong><span class="md-expand">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.模块函数文件 application/模块目录/common.php</span></strong></span></p>
<p><span style="font-size: 18px;"><strong><span class="md-expand">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;一般不建议直接修改thinkphp/helper.php</span></strong></span></p>
<p><span style="font-size: 18px;"><strong><span class="md-expand">2.请求的生命周期</span></strong></span></p>
<p><span style="font-size: 18px;"><strong><span class="md-expand"><img src="./images/ThinkPHP框架0.jpg" alt="" /></span></strong></span></p>
<p><span style="font-size: 18px;"><strong>3.TP框架中的控制器</strong></span></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 18px;"><strong> 3.1控制器的后缀</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;打开配置文件application/config.php，有如下配置</strong></span></p>
<src class="cnblogs_code">
<pre><code>'controller_suffix' =&gt; <span style="color: #0000ff;">false</span>,</code></pre>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="font-size: 18px;"><strong>&nbsp;<span class="md-line md-end-block md-focus"><span class="md-expand">表示默认情况下，控制器无特殊后缀。例如 Index控制器，文件名为Index.php</span></span></strong></span></p>
<p><span style="font-size: 18px;"><strong><span class="md-line md-end-block">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 如果需要进行设置，可以设置为（我们不需要这么设置）</span></strong></span></p>
<src class="cnblogs_code">
<pre><code>'controller_suffix' =&gt; 'Controller',</code></pre>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 18px;"><strong>表示控制器以Controller为后缀。例如Index控制器，文件名为IndexController.php &nbsp;</strong> </span></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="font-size: 18px;"><strong>&nbsp; &nbsp;3.2控制器的定义</strong></span></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="font-size: 18px;"><strong>1.表示控制器以Controller为后缀。例如Index控制器，文件名为IndexController.php</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;定义位置：application/模块目录/controller/目录下</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;命名规则：控制器名称（首字母大写） + (控制器后缀，默认没有) + .php</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;默认：Index控制器 Index.php</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.编写控制器</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;声明命名空间 namespace app\模块目录名\controller</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;引入控制器基类（可选） use think\Controller; think是命名空间 Controller是基类控制器</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;定义当前控制器类，继承控制器基类（可选）</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.3框架的命名空间</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;命名空间本身是PHP就有的，用来防止命名冲突问题的。</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;TP框架中的命名空间，通常和目录挂钩。</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 原因：TP中的自动加载机制，会将类的命名空间作为加载路径的一部分。</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.&nbsp; &nbsp;声明命名空间 使用namespace关键字</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.引入指定的类 使用use关键字 命名空间\类名称</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.完全限定式访问 在使用类时，\完整命名空间\类名称（继承和实例化）</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;如果一个类没有命名空间，使用 \类名</strong></span></p>
<p><span style="font-size: 18px;"><strong>4.命令行创建模块目录及文件</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4.1命名行创建模块目录</strong></span></p>
<p><span style="font-size: 18px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;通常可以通过以下命令，自动生成模块目录</strong></span></p>
<src class="cnblogs_code">
<pre><code>php think build --module 模块名</code></pre>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="font-size: 18px;"><strong>&nbsp;4.2<span class="md-expand">命令行创建控制器</span></strong></span></p>
<src class="cnblogs_code">
<pre><code>php think make:controller 模块名/<span style="color: #000000;">控制器名 
php think make</span>:controller 模块名/控制器名 --plain</code></pre>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: 18px;"><strong> 4.3<span class="md-expand">命令行创建模型</span></strong></span></p>
<src class="cnblogs_code">
<pre><code>php think make:model 模块名/模型名</code></pre>

<p>&nbsp;</p>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>