<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修正则表达式匹配题' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>正则表达式匹配题</center></div><div class='banquan'>原文出处:本文由博客园博主sx2960提供。<br/>
原文连接:https://www.cnblogs.com/sx2960/p/11371898.html</div><br>
    <h1 align="center"><span style="font-family: 微软雅黑;">正则表达式匹配题</span></h1>
<p>&nbsp;</p>
<p><span style="font-family: 宋体;">靶场地址:</span><span>http://**.**.***.**:8010/re/?id=1</span><span style="font-family: 宋体;">。</span></p>
<p>&nbsp;</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php   

</span><span style="color: #800080;">$key</span>='flag{********************************}'<span style="color: #000000;">;  

</span><span style="color: #800080;">$Regular</span>=<span style="color: #008080;">preg_match</span>("/zkaq.*key.{2,9}:\/.*\/(key*key)/i", <span style="color: #008080;">trim</span>(<span style="color: #800080;">$_GET</span>["id"]), <span style="color: #800080;">$match</span><span style="color: #000000;">);  

</span><span style="color: #0000ff;">if</span>( <span style="color: #800080;">$Regular</span><span style="color: #000000;"> ){   

  </span><span style="color: #0000ff;">die</span>('key: '.<span style="color: #800080;">$key</span><span style="color: #000000;">);  

}</span></code></pre>

<p>&nbsp;</p>
<h3><strong>代码解释：</strong></h3>
<p><strong>preg_match</strong>(<span style="font-family: 宋体;">正则表达式，</span><span style="font-family: 宋体;">匹配的字符串</span>)</p>
<p><span style="font-family: 宋体;">匹配第一个匹配正则的子字符串，未找到返回</span>0<span style="font-family: 宋体;">，找到返回</span><span style="font-family: Calibri;">1</span></p>
<p><strong>trim($_GET["id"])</strong>&nbsp;<span style="font-family: 宋体;">接受</span>ID<span style="font-family: 宋体;">传参过来的字符串</span></p>
<p>&nbsp;<img src="./images/正则表达式匹配题0.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>if(&nbsp;$Regular&nbsp;){&nbsp;&nbsp;die('key:&nbsp;'.$key);&nbsp;}</p>
<p><strong>if (1){}</strong>执行；</p>
<p><strong>if(0){}</strong>不执行；</p>
<p><strong>die();</strong><span style="font-family: 宋体;">输出一条消息，并退出当前脚本。</span></p>
<p><span style="font-family: 宋体;">该函数是</span>&nbsp;<a href="https://www.runoob.com/php/func-misc-exit.html">exit()</a>&nbsp;<span style="font-family: 宋体;">函数的别名。</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>解题思路</strong></span>：本题需要<span style="font-family: 宋体;">匹配的字符串的字符串符合正则表达式才会返回</span>flag<span style="font-family: 宋体;">。</span></p>
<p>&nbsp;</p>
<h3><strong>正则表达式解释：</strong></h3>
<src class="cnblogs_code">
<pre><code>PHP的正则表达式要写在/ /<span style="color: #000000;">之间。

</span>.<span style="color: #000000;">：匹配除换行符 \n 之外的任何单字符。

</span>*<span style="color: #000000;">：匹配前面的子表达式零次或多次。

{n</span>,m}： m 和 n 均为非负整数，其中n &lt;= m。最少匹配 n 次且最多匹配 m 次。例如，"o{1,3}" 将匹配 "fooood"<span style="color: #000000;"> 中的前三个o。请注意在逗号和两个数之间不能有空格。

\： 将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。例如， </span>'n' 匹配字符 'n'。'\n' 匹配换行符。序列 '\\' 匹配 "\"，而 '\(' 则匹配 "("<span style="color: #000000;">。

i：标记指定不区分大小写。</span></code></pre>

<p>&nbsp;&nbsp;</p>
<p><strong>/zkaq.*key.{2,9}:\/.*\/(key*key)/i</strong></p>
<h3><strong>拆分讲解这个正则表达式</strong></h3>
<p>1.</p>
<src class="cnblogs_code">
<pre><code>/zkaq.*/:表示&rdquo;zkaq&rdquo;后面有0-<span style="color: #000000;">N个除换行符 \n 之外的任何单字符（N为非负整数）。

zkaq（我可以理解为后面可以没跟着字符）</span></code></pre>

<p>2.</p>
<src class="cnblogs_code">
<pre><code>/<span style="color: #008080;">key</span>.{2,9}/：表示&rdquo;<span style="color: #008080;">key</span>&rdquo;后面有2-<span style="color: #000000;">9个除换行符 \n 之外的任何单字符。

keyhello（我可以在&rdquo;</span><span style="color: #008080;">key</span>&rdquo;后添加2-9个字符）</code></pre>

<p>3.</p>
<src class="cnblogs_code">
<pre><code>/ :\/.*\/ /:第一个&rdquo;:&rdquo;为字符冒号，&rdquo;\/&rdquo;为斜杠&rdquo;/&rdquo;的转译，&rdquo;.*&rdquo;表示后面有0-<span style="color: #000000;">N个除换行符 \n 之外的任何单字符（N为非负整数）。

</span>:<span style="color: #008000;">//</span><span style="color: #008000;">（没什么可说的，我可以不添加字符）</span></code></pre>

<p>4.</p>
<src class="cnblogs_code">
<pre><code>/(<span style="color: #008080;">key</span>*<span style="color: #008080;">key</span>)/:表示&rdquo;ke&rdquo;和&rdquo;<span style="color: #008080;">key</span>&rdquo;之间有0-<span style="color: #000000;">N个字符&rdquo;y&rdquo;（N为非负整数）。

keykey（我可以不添加字符）</span></code></pre>

<p><strong>组合：</strong></p>
<src class="cnblogs_code">
<pre><code>zkaqkeyhello:<span style="color: #008000;">//</span><span style="color: #008000;">keykey</span></code></pre>

<p class="pre"><strong>Unicode</strong><span style="font-family: 宋体;"><strong>编码一下：</strong></span>&nbsp;</p>
<src class="cnblogs_code">
<pre><code>zkaqkeyhello%3A<span style="color: #008000;">//</span><span style="color: #008000;">keykey</span></code></pre>

<p><img src="./images/正则表达式匹配题1.jpg" alt="" /></p>
<p>&nbsp;<img src="./images/正则表达式匹配题2.jpg" alt="" /></p>
<p>&nbsp;</p>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>