<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修其实你并不懂如何定义一个 PHP 函数' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>其实你并不懂如何定义一个 PHP 函数</center></div><div class='banquan'>原文出处:本文由博客园博主程序媛的明天提供。<br/>
原文连接:https://www.cnblogs.com/a609251438/p/11836834.html</div><br>
    <src class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> &lt;?<span style="color: #000000;">php
</span><span style="color: #008080;">2</span> <span style="color: #0000ff;">function</span> divide(<span style="color: #800080;">$dividend</span>, <span style="color: #800080;">$divisor</span><span style="color: #000000;">){
</span><span style="color: #008080;">3</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">$dividend</span> / <span style="color: #800080;">$divisor</span><span style="color: #000000;">;
</span><span style="color: #008080;">4</span> <span style="color: #000000;">}
</span><span style="color: #008080;">5</span> <span style="color: #0000ff;">echo</span> divide(12, 4<span style="color: #000000;">);
</span><span style="color: #008080;">6</span> <span style="color: #0000ff;">echo</span> divide('sa', 'sd');</code></pre>

<p>这段代码乍一看没毛病，但是如果你向它传递「任意」参数，它就会出问题。</p>
<p>写出好的代码是一个学无止境的过程。让我们来改进我们编写 PHP 函数的方式。 看下上面的代码，想想第二个函数调用那里会发生什么情况？ 它会接受你输入的任何参数，并且尝试执行然后抛出一个数学错误。 但是我们怎么才能让一个函数严格接收能使其正确执行的参数呢？ 现代的 PHP 解决了这个问题，并且有更多妙法能让你的代码质量更进一层，没有 bug。</p>
<h2>函数参数与它们的数据类型</h2>
<p>你可以严格控制你的函数，使其只接收让它正确运行的参数。让我们改变上面的函数定义：</p>
<src class="cnblogs_code">
<pre><code>&lt;?<span style="color: #000000;">php
</span><span style="color: #0000ff;">function</span> divide(int <span style="color: #800080;">$dividend</span>, int <span style="color: #800080;">$divisor</span><span style="color: #000000;">){
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">$dividend</span> / <span style="color: #800080;">$divisor</span><span style="color: #000000;">;
}
</span><span style="color: #0000ff;">echo</span> divide(12, 4<span style="color: #000000;">);
</span><span style="color: #0000ff;">echo</span> divide('sa', 'sd');</code></pre>

<p>　　</p>
<p>现在，第二次调用这个函数将会抛出一个致命错误，指出其需要的参数必须是整数类型。你可以用不同的方式处理参数。</p>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> &lt;?<span style="color: #000000;">php
</span><span style="color: #008080;"> 2</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 可选参数</span>
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">function</span> getName(<span style="color: #0000ff;">string</span> <span style="color: #800080;">$firstName</span>, <span style="color: #0000ff;">string</span> <span style="color: #800080;">$lastName</span> = ''<span style="color: #000000;">){
</span><span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">$firstName</span> . ' ' . <span style="color: #800080;">$lastName</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 6</span> <span style="color: #0000ff;">echo</span> getName('Muhammad', 'Nauman'); <span style="color: #008000;">//</span><span style="color: #008000;"> Muhammad Nauman</span>
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">echo</span> getName('Adam'); <span style="color: #008000;">//</span><span style="color: #008000;"> Adam</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">function</span> divide(int <span style="color: #800080;">$dividend</span>, int <span style="color: #800080;">$divisor</span> = 2<span style="color: #000000;">){
</span><span style="color: #008080;"> 9</span>       <span style="color: #0000ff;">return</span> <span style="color: #800080;">$dividend</span> / <span style="color: #800080;">$divisor</span><span style="color: #000000;">;
</span><span style="color: #008080;">10</span> <span style="color: #000000;">}
</span><span style="color: #008080;">11</span> <span style="color: #0000ff;">echo</span> divide(12, 4); <span style="color: #008000;">//</span><span style="color: #008000;"> 3</span>
<span style="color: #008080;">12</span> <span style="color: #0000ff;">echo</span> divide(12); <span style="color: #008000;">//</span><span style="color: #008000;"> 6
</span><span style="color: #008080;">13</span> <span style="color: #008000;">// 仅接收 Request 类的实例参数 $request</span>
<span style="color: #008080;">14</span> <span style="color: #0000ff;">function</span> getReuestParams(Request <span style="color: #800080;">$request</span><span style="color: #000000;">){
</span><span style="color: #008080;">15</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">$request</span>-&gt;only('name', 'email'<span style="color: #000000;">);
</span><span style="color: #008080;">16</span> }</code></pre>

<p>&nbsp;</p>

<blockquote>在定义的时候，将可选参数或带默认值的参数作为最后一个参数。</blockquote>
<p>PHP 7.1 也给可迭代数据介绍了一种伪类型。它能接收任何可迭代的数据。</p>
<p><img src="./images/其实你并不懂如何定义一个 PHP 函数0.jpg" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>上图是使用了&nbsp;<code>iterable</code>&nbsp;数据类型的函数。</p>
<p>现在通过代码，我们可以控制的更多了，不是吗？没错，确实如此！</p>
<h2>函数与它们的返回值</h2>
<p>正如你可以控制传递给指定函数的参数类型一样，你也可以控制函数的返回值类型。它能确保你的函数总是返回同一个数据类型，并且不会崩溃。我们改变一下上面的代码：</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> &lt;?<span style="color: #000000;">php
</span><span style="color: #008080;"> 2</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 可选参数</span>
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">function</span> getName(<span style="color: #0000ff;">string</span> <span style="color: #800080;">$firstName</span>, <span style="color: #0000ff;">string</span> <span style="color: #800080;">$lastName</span> = '') : <span style="color: #0000ff;">string</span><span style="color: #000000;"> {
</span><span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">$firstName</span> . ' ' . <span style="color: #800080;">$lastName</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 6</span> <span style="color: #0000ff;">echo</span> getName('Muhammad', 'Nauman'); <span style="color: #008000;">//</span><span style="color: #008000;"> Muhammad Nauman</span>
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">echo</span> getName('Adam'); <span style="color: #008000;">//</span><span style="color: #008000;"> Adam</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">function</span> divide(int <span style="color: #800080;">$dividend</span>, int <span style="color: #800080;">$divisor</span> = 2) :<span style="color: #000000;"> int {
</span><span style="color: #008080;"> 9</span>       <span style="color: #0000ff;">return</span> <span style="color: #800080;">$dividend</span> / <span style="color: #800080;">$divisor</span><span style="color: #000000;">;
</span><span style="color: #008080;">10</span> <span style="color: #000000;">}
</span><span style="color: #008080;">11</span> <span style="color: #0000ff;">echo</span> divide(12, 4); <span style="color: #008000;">//</span><span style="color: #008000;"> 3</span>
<span style="color: #008080;">12</span> <span style="color: #0000ff;">echo</span> divide(12); <span style="color: #008000;">//</span><span style="color: #008000;"> 6
</span><span style="color: #008080;">13</span> <span style="color: #008000;">// 仅接收 Request 类的实例 $request 作为参数</span>
<span style="color: #008080;">14</span> <span style="color: #0000ff;">function</span> getReuestParams(Request <span style="color: #800080;">$request</span>) : <span style="color: #0000ff;">array</span><span style="color: #000000;"> {
</span><span style="color: #008080;">15</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">$request</span>-&gt;only('name', 'email'<span style="color: #000000;">);
</span><span style="color: #008080;">16</span> <span style="color: #000000;">}
</span><span style="color: #008080;">17</span> <span style="color: #008000;">//</span><span style="color: #008000;"> 返回 void 类型</span>
<span style="color: #008080;">18</span> <span style="color: #800080;">$attribute</span> = 2<span style="color: #000000;">;
</span><span style="color: #008080;">19</span> <span style="color: #0000ff;">function</span> changeAttribute(<span style="color: #0000ff;">string</span> &amp;<span style="color: #800080;">$param</span>, <span style="color: #800080;">$value</span>) :<span style="color: #000000;"> void {
</span><span style="color: #008080;">20</span>     <span style="color: #800080;">$param</span> = <span style="color: #800080;">$value</span><span style="color: #000000;">;
</span><span style="color: #008080;">21</span> <span style="color: #000000;">}
</span><span style="color: #008080;">22</span> changeAttribute(<span style="color: #800080;">$attribute</span>, 5<span style="color: #000000;">);
</span><span style="color: #008080;">23</span> <span style="color: #0000ff;">echo</span> <span style="color: #800080;">$attribute</span>; <span style="color: #008000;">//</span><span style="color: #008000;"> 5</span></code></pre>

<p>PHP 逐渐引入了这些功能，如：5.1 版引入的数组类型作为参数，5.4 版引入的可调用类型（callable type），以及 7.1 版引入的 void 返回类型等。</p>
<h2>可选参数 VS 可空参数</h2>
<p>除了可选参数外，你还可以定义可空（nullable）参数，这意味着你可以定义一种可空参数类型。我们来看个例子：</p>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> &lt;?<span style="color: #000000;">php
</span><span style="color: #008080;"> 2</span> <span style="color: #0000ff;">function</span> nullableParameter(?<span style="color: #0000ff;">string</span> <span style="color: #800080;">$name</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 3</span> <span style="color: #000000;">{
</span><span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">$name</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 6</span> <span style="color: #0000ff;">echo</span> nullableParameter(<span style="color: #0000ff;">null</span>); <span style="color: #008000;">//</span><span style="color: #008000;"> 不会返回任何东西</span>
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">echo</span> nullableParameter('Nauman'); <span style="color: #008000;">//</span><span style="color: #008000;"> Nauman</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">echo</span> nullableParameter(); <span style="color: #008000;">//</span><span style="color: #008000;"> 致命错误</span>
<span style="color: #008080;"> 9</span> <span style="color: #0000ff;">function</span> nullableParameterWithReturnType(?<span style="color: #0000ff;">string</span> <span style="color: #800080;">$name</span>) : <span style="color: #0000ff;">string</span>
<span style="color: #008080;">10</span> <span style="color: #000000;">{
</span><span style="color: #008080;">11</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">$name</span><span style="color: #000000;">;
</span><span style="color: #008080;">12</span> <span style="color: #000000;">}
</span><span style="color: #008080;">13</span> <span style="color: #0000ff;">echo</span> nullableParameter(<span style="color: #0000ff;">null</span>); <span style="color: #008000;">//</span><span style="color: #008000;"> 致命错误，必须返回 string 类型</span>
<span style="color: #008080;">14</span> <span style="color: #0000ff;">echo</span> nullableParameter('Nauman'); <span style="color: #008000;">//</span><span style="color: #008000;"> Nauman</span>
<span style="color: #008080;">15</span> <span style="color: #0000ff;">function</span> nullableReturnType(<span style="color: #0000ff;">string</span> <span style="color: #800080;">$name</span>) : ?<span style="color: #0000ff;">string</span>
<span style="color: #008080;">16</span> <span style="color: #000000;">{
</span><span style="color: #008080;">17</span>     <span style="color: #0000ff;">return</span> <span style="color: #800080;">$name</span><span style="color: #000000;">;
</span><span style="color: #008080;">18</span> <span style="color: #000000;">}
</span><span style="color: #008080;">19</span> <span style="color: #0000ff;">echo</span> nullableParameter(<span style="color: #0000ff;">null</span>); <span style="color: #008000;">//</span><span style="color: #008000;"> 致命错误，$name 应该是 string 类型</span>
<span style="color: #008080;">20</span> <span style="color: #0000ff;">echo</span> nullableParameter('Nauman'); <span style="color: #008000;">//</span><span style="color: #008000;"> Nauman</span></code></pre>

<p>&nbsp;</p>

<p>显然，可空参数不是可选参数，你必须传递一个值或者是&nbsp;<code>null</code>。我个人喜欢使用空值作为可选参数，但这取决于你的任务需求。</p>
<h2>总结</h2>
<p>从我开启职业生涯的时候我就使用 PHP 了，我真的很爱这门语言。在过去很长一段时间里，它都是开发 web 应用的不二之选。现在 7.x 版本又填补了许多高级特性和现代化应用的需求，并且提高了开发者的效率。这门语言正不断的发生改变，找出这些变化，并停止过去的写法，放弃你原来的习惯并自豪的使用这些新特性，让你的代码更易读易懂。 Happy coding :)</p>
<p class="ztext-empty-paragraph">&nbsp;</p>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>