<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修PHP的SPL标准库' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>PHP的SPL标准库</center></div><div class='banquan'>原文出处:本文由博客园博主凌晨两点半12138提供。<br/>
原文连接:https://www.cnblogs.com/huangzikai/p/11602547.html</div><br>
    <h1><span style="color: #888888;">1，简介</span></h1>
<p><span style="color: #888888;">　　SPL,全称 Standard&nbsp;PHP&nbsp;Library 中文是 标准PHP类库。是php内置的一些拓展类和拓展接口，其内容包含数据结构、迭代器、接口、异常、SPL函数，文件处理等内容。SPL拓展只能用于PHP5.3版本及以后，并且不需要进行额外的配置，可以直接使用。详细信息可以进入PHP官方网站<a href="https://www.php.net/spl" target="_blank"><span style="color: #888888;">&nbsp;https://www.php.net/spl</span></a>查看。 这里主要说明SPL中的数据结构内容的使用。</span></p>
<h1><span style="color: #888888;">2，使用</span></h1>
<p><span style="color: #888888;">1、栈</span></p>
<p><span style="color: #888888;">　　栈是一种先进先出的数据结构。并且只能对栈的两端进行操作，进栈或者出栈。SplStack类通过使用一个双向链表来提供栈的主要功能。将出栈想象成遍历一个相反的数组的过程</span></p>
<src class="cnblogs_code" onclick="cnblogs_code_show('537cb2db-a92d-4da1-baf8-864d7e2054a7')"><img id="code_img_closed_537cb2db-a92d-4da1-baf8-864d7e2054a7" class="code_img_closed" src="./images/PHP的SPL标准库0.jpg" alt="" /><img id="code_img_opened_537cb2db-a92d-4da1-baf8-864d7e2054a7" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('537cb2db-a92d-4da1-baf8-864d7e2054a7',event)" src="./images/PHP的SPL标准库1.jpg" alt="" />
<src id="cnblogs_code_open_537cb2db-a92d-4da1-baf8-864d7e2054a7" class="cnblogs_code_hide">
<pre><code><span style="color: #800080;">$stack</span> = <span style="color: #0000ff;">new</span><span style="color: #000000;"> SplStack();
</span><span style="color: #800080;">$stack</span>-&gt;push('张三&lt;br&gt;');<span style="color: #008000;">//</span><span style="color: #008000;">入栈</span>
<span style="color: #800080;">$stack</span>-&gt;push('李四&lt;br&gt;'<span style="color: #000000;">);
</span><span style="color: #800080;">$stack</span>-&gt;unshift("王五");<span style="color: #008000;">//</span><span style="color: #008000;">将&rsquo;王五&lsquo;放入栈底</span>
<span style="color: #0000ff;">echo</span> <span style="color: #800080;">$stack</span>-&gt;pop();<span style="color: #008000;">//</span><span style="color: #008000;">出栈 李四</span>
<span style="color: #0000ff;">echo</span> <span style="color: #800080;">$stack</span>-&gt;pop();<span style="color: #008000;">//</span><span style="color: #008000;">张三</span>
<span style="color: #0000ff;">echo</span> <span style="color: #800080;">$stack</span>-&gt;pop();<span style="color: #008000;">//</span><span style="color: #008000;">王五</span></code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p><span style="color: #888888;">2、对列</span></p>
<p><span style="color: #888888;">　　队列是一种先进先出的数据结构。SplQueue 类同样通过使用一个双向链表来提供队列的主要功能。</span></p>
<src class="cnblogs_code" onclick="cnblogs_code_show('d41ba858-a733-47f9-8ed0-24f594ab7785')"><img id="code_img_closed_d41ba858-a733-47f9-8ed0-24f594ab7785" class="code_img_closed" src="./images/PHP的SPL标准库0.jpg" alt="" /><img id="code_img_opened_d41ba858-a733-47f9-8ed0-24f594ab7785" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('d41ba858-a733-47f9-8ed0-24f594ab7785',event)" src="./images/PHP的SPL标准库1.jpg" alt="" />
<src id="cnblogs_code_open_d41ba858-a733-47f9-8ed0-24f594ab7785" class="cnblogs_code_hide">
<pre><code><span style="color: #800080;">$queue</span> = <span style="color: #0000ff;">new</span><span style="color: #000000;"> splQueue();
</span><span style="color: #800080;">$queue</span>-&gt;enqueue(5);<span style="color: #008000;">//</span><span style="color: #008000;">入队列</span>
<span style="color: #800080;">$queue</span>-&gt;enqueue(2<span style="color: #000000;">);
</span><span style="color: #800080;">$queue</span>-&gt;enqueue(1<span style="color: #000000;">);
</span><span style="color: #800080;">$queue</span>-&gt;enqueue(3<span style="color: #000000;">);
</span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$queue</span>-&gt;dequeue(); <span style="color: #008000;">//</span><span style="color: #008000;">出队列 5</span>
<span style="color: #0000ff;">echo</span> <span style="color: #800080;">$queue</span>-&gt;dequeue(); <span style="color: #008000;">//</span><span style="color: #008000;">2</span>
<span style="color: #0000ff;">echo</span> <span style="color: #800080;">$queue</span>-&gt;dequeue(); <span style="color: #008000;">//</span><span style="color: #008000;">1</span>
<span style="color: #0000ff;">echo</span> <span style="color: #800080;">$queue</span>-&gt;dequeue(); <span style="color: #008000;">//</span><span style="color: #008000;">3</span></code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p><span style="color: #888888;">3、堆</span></p>
<p><span style="color: #888888;">　　堆就是为了实现优先队列而设计的一种数据结构，它是通过构造二叉堆实现。其中根节点最大的堆叫做最大堆或大根堆，根节点最小的堆叫做最小堆或小根堆，最大堆(SplMaxHeap)和最小堆(SplMinHeap)都继承它实现的堆主要用于排序。</span></p>
<src class="cnblogs_code" onclick="cnblogs_code_show('283f2e74-7d94-4427-a2df-f5b0b94ee849')"><img id="code_img_closed_283f2e74-7d94-4427-a2df-f5b0b94ee849" class="code_img_closed" src="./images/PHP的SPL标准库0.jpg" alt="" /><img id="code_img_opened_283f2e74-7d94-4427-a2df-f5b0b94ee849" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('283f2e74-7d94-4427-a2df-f5b0b94ee849',event)" src="./images/PHP的SPL标准库1.jpg" alt="" />
<src id="cnblogs_code_open_283f2e74-7d94-4427-a2df-f5b0b94ee849" class="cnblogs_code_hide">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;">最大堆 升序输出</span>
<span style="color: #800080;">$heap</span> = <span style="color: #0000ff;">new</span><span style="color: #000000;"> SplMaxHeap();
</span><span style="color: #800080;">$heap</span>-&gt;insert('E'<span style="color: #000000;">);
</span><span style="color: #800080;">$heap</span>-&gt;insert('B'<span style="color: #000000;">);
</span><span style="color: #800080;">$heap</span>-&gt;insert('D'<span style="color: #000000;">);
</span><span style="color: #800080;">$heap</span>-&gt;insert('A'<span style="color: #000000;">);
</span><span style="color: #800080;">$heap</span>-&gt;insert('C'<span style="color: #000000;">);
</span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$heap</span>-&gt;<span style="color: #008080;">extract</span>().'&lt;br&gt;'; <span style="color: #008000;">#</span><span style="color: #008000;"> E</span>
<span style="color: #0000ff;">echo</span> <span style="color: #800080;">$heap</span>-&gt;<span style="color: #008080;">extract</span>().'&lt;br&gt;'; <span style="color: #008000;">#</span><span style="color: #008000;"> D
// 最小堆 降序输出</span>
<span style="color: #800080;">$heap</span> = <span style="color: #0000ff;">new</span><span style="color: #000000;"> SplMinHeap();
</span><span style="color: #800080;">$heap</span>-&gt;insert('E'<span style="color: #000000;">);
</span><span style="color: #800080;">$heap</span>-&gt;insert('B'<span style="color: #000000;">);
</span><span style="color: #800080;">$heap</span>-&gt;insert('D'<span style="color: #000000;">);
</span><span style="color: #800080;">$heap</span>-&gt;insert('A'<span style="color: #000000;">);
</span><span style="color: #800080;">$heap</span>-&gt;insert('C'<span style="color: #000000;">);
</span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$heap</span>-&gt;<span style="color: #008080;">extract</span>().'&lt;br&gt;'<span style="color: #000000;">;
</span><span style="color: #0000ff;">echo</span> <span style="color: #800080;">$heap</span>-&gt;<span style="color: #008080;">extract</span>().'&lt;br&gt;';</code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p><span style="color: #888888;">最大堆：堆中每个父节点的元素值都大于等于其孩子结点（如果存在）；</span></p>
<p><span style="color: #888888;">最小堆：堆中每个父节点的元素值都小于等于其孩子结点（如果存在）；</span></p>
<p><span style="color: #888888;">4、固定数组</span></p>
<src class="cnblogs_code" onclick="cnblogs_code_show('337435b7-11fc-4a3b-be75-bd840da3a442')"><img id="code_img_closed_337435b7-11fc-4a3b-be75-bd840da3a442" class="code_img_closed" src="./images/PHP的SPL标准库0.jpg" alt="" /><img id="code_img_opened_337435b7-11fc-4a3b-be75-bd840da3a442" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('337435b7-11fc-4a3b-be75-bd840da3a442',event)" src="./images/PHP的SPL标准库1.jpg" alt="" />
<src id="cnblogs_code_open_337435b7-11fc-4a3b-be75-bd840da3a442" class="cnblogs_code_hide">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;">固定数组</span>
<span style="color: #800080;">$i</span> = 1000000<span style="color: #000000;">;
</span><span style="color: #800080;">$fixbtime</span> = <span style="color: #008080;">microtime</span>(<span style="color: #0000ff;">true</span><span style="color: #000000;">);
</span><span style="color: #800080;">$fixstart</span> =<span style="color: #000000;"> memory_get_usage();
</span><span style="color: #800080;">$fixArray</span> = <span style="color: #0000ff;">new</span> SplFixedArray(<span style="color: #800080;">$i</span>);<span style="color: #008000;">//</span><span style="color: #008000;">生成长度为i的固定数组</span>
<span style="color: #800080;">$fixend</span> =<span style="color: #000000;"> memory_get_usage();
</span><span style="color: #800080;">$fixetime</span> = <span style="color: #008080;">microtime</span>(<span style="color: #0000ff;">true</span><span style="color: #000000;">);
</span><span style="color: #008000;">//</span><span style="color: #008000;">普通数组</span>
<span style="color: #800080;">$btime2</span> = <span style="color: #008080;">microtime</span>(<span style="color: #0000ff;">true</span><span style="color: #000000;">);
</span><span style="color: #800080;">$arr</span> = <span style="color: #008080;">array_fill</span>(0, <span style="color: #800080;">$i</span>, <span style="color: #0000ff;">null</span><span style="color: #000000;">);
</span><span style="color: #800080;">$end</span> =<span style="color: #000000;"> memory_get_usage();

</span><span style="color: #008000;">//</span><span style="color: #008000;">生成固定长度的固定数组和普通数组所用时间</span>
<span style="color: #0000ff;">echo</span> <span style="color: #800080;">$fixetime</span> - <span style="color: #800080;">$fixbtime</span>, <span style="color: #ff00ff;">PHP_EOL</span>;        <span style="color: #008000;">//</span><span style="color: #008000;">固定数组 0.0065009593963623 </span>
<span style="color: #0000ff;">echo</span> <span style="color: #008080;">microtime</span>(<span style="color: #0000ff;">true</span>) - <span style="color: #800080;">$btime2</span>, <span style="color: #ff00ff;">PHP_EOL</span>;    <span style="color: #008000;">//</span><span style="color: #008000;">普通数组 0.1734619140625  
//生成固定长度的固定数组和普通数组所占内存</span>
<span style="color: #0000ff;">echo</span> <span style="color: #800080;">$fixend</span> - <span style="color: #800080;">$fixstart</span>, <span style="color: #ff00ff;">PHP_EOL</span>;          <span style="color: #008000;">//</span><span style="color: #008000;">固定数组 4000280 byte</span>
<span style="color: #0000ff;">echo</span> <span style="color: #800080;">$end</span> - <span style="color: #800080;">$fixend</span>, <span style="color: #ff00ff;">PHP_EOL</span>;               <span style="color: #008000;">//</span><span style="color: #008000;">普通数组 52194712 byte</span></code></pre>

<span class="cnblogs_code_collapse">View Code</span>
<p><span style="color: #888888;">　　在内存和时间方面，固定数组都比普通数组的消耗少了很多。但是对于固定数组来说，对内存的申请一步到位了，当内存不够时候会报错，当内存用不完时，也不会释放，只能浪费。同时，固定数组都是索引数组，不能使用除了整数以外的key。</span></p>
<p>&nbsp;</p>

</div></div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>